"use strict";(self.webpackChunkgatsby_redux_material_ui_boilerplate=self.webpackChunkgatsby_redux_material_ui_boilerplate||[]).push([[306],{75523:function(e,t,n){n.d(t,{U2:function(){return qt},B3:function(){return sn},T:function(){return yr},h5:function(){return oi},BE:function(){return Gi},vN:function(){return ii},S3:function(){return zr},MX:function(){return Ir},fL:function(){return Bt},cs:function(){return Xr},Xo:function(){return ht},gI:function(){return dt},DN:function(){return ui},Gv:function(){return _t},dL:function(){return li},AK:function(){return Ut},od:function(){return vi},ek:function(){return ni},k$:function(){return Ki},F7:function(){return Bi},H2:function(){return at},A3:function(){return _r},iO:function(){return qr},Rl:function(){return Qi},OP:function(){return Vr},wd:function(){return Ji},_v:function(){return Ht},rc:function(){return Br},Gg:function(){return Ar},S9:function(){return $e},oC:function(){return Pi},UL:function(){return At},oq:function(){return mt},RG:function(){return qi},r0:function(){return ae},yn:function(){return le},BM:function(){return ie},Nr:function(){return oe},Kr:function(){return S},jw:function(){return no},VN:function(){return Yi},Eo:function(){return to},KB:function(){return eo},yF:function(){return w},LV:function(){return te},dR:function(){return ne},Mt:function(){return T},n2:function(){return O},cj:function(){return P},kE:function(){return Y},XI:function(){return Q},zD:function(){return X},Ij:function(){return Ri},HX:function(){return zi},RO:function(){return G},Ew:function(){return D},PU:function(){return q},WH:function(){return C},K0:function(){return b},cA:function(){return H},Zb:function(){return W},u$:function(){return Z},Nm:function(){return A},_0:function(){return B},aR:function(){return j},MK:function(){return U},XN:function(){return R},Zq:function(){return J},dB:function(){return V},g8:function(){return M},OJ:function(){return z},cz:function(){return $},A1:function(){return N},zq:function(){return F},RJ:function(){return E},oj:function(){return k},zr:function(){return x},Hr:function(){return re},R2:function(){return br},$l:function(){return L},fA:function(){return m},Jh:function(){return io},lv:function(){return nn},bg:function(){return Yt},Re:function(){return en},u8:function(){return tn},GA:function(){return Ye},af:function(){return et}});var r,i,o=n(11752),a=n(60136),l=n(82963),u=n(61120),s=n(15671),f=n(43144),c=n(93433),d=n(29439),v=n(4942);n(13728);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(k){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){return{}}var k={},x={},S={},T={},C={},b={},w={},N={},E={},P={},O={},D={},L={},F={},I={},A={},M={},Z={},z={},B={},W={},R={},K={},j={},J={},U={},V={},H={},q={},$={},X={},G={},Q={},Y={},ee={},te={},ne={},re={},ie={},oe={},ae={},le={},ue={},se={},fe={},ce="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,de=ce&&"documentMode"in document?document.documentMode:null,ve=ce&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),he=ce&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ge=!(!ce||!("InputEvent"in window)||de)&&"getTargetRanges"in new window.InputEvent("input"),ye=ce&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),_e=ce&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,pe=ce&&/Android/.test(navigator.userAgent),me=ce&&/^(?=.*Chrome).*/i.test(navigator.userAgent),ke=ce&&pe&&me,xe=ce&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!me,Se=ye||_e||xe?" ":"​",Te="\n\n",Ce=he?" ":Se,be="֑-߿יִ-﷽ﹰ-ﻼ",we="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Ne=new RegExp("^[^"+we+"]*["+be+"]"),Ee=new RegExp("^[^"+be+"]*["+we+"]"),Pe={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},Oe={directionless:1,unmergeable:2},De={center:2,end:6,justify:4,left:1,right:3,start:5},Le=(r={},(0,v.Z)(r,2,"center"),(0,v.Z)(r,6,"end"),(0,v.Z)(r,4,"justify"),(0,v.Z)(r,1,"left"),(0,v.Z)(r,3,"right"),(0,v.Z)(r,5,"start"),r),Fe={normal:0,segmented:2,token:1},Ie=(i={},(0,v.Z)(i,0,"normal"),(0,v.Z)(i,2,"segmented"),(0,v.Z)(i,1,"token"),i);var Ae=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){var t=new URLSearchParams;t.append("code",e);for(var n=1;n<arguments.length;n++)t.append("v",arguments[n]);throw Error("Minified Lexical error #".concat(e,"; visit https://lexical.dev/docs/error?").concat(t," for the full message or use the non-minified dev environment for full errors and additional helpful warnings."))}));function Me(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(a&&"string"==typeof a){var l,u=_(a.matchAll(/\S+/g));try{for(u.s();!(l=u.n()).done;){var s=(0,d.Z)(l.value,1),f=s[0];e.push(f)}}catch(c){u.e(c)}finally{u.f()}}}return e}var Ze=!1,ze=0;function Be(e){ze=e.timeStamp}function We(e,t,n){return t.__lexicalLineBreak===e||void 0!==e["__lexicalKey_".concat(n._key)]}function Re(e,t,n){var r=Qt(n._window),i=null,o=null;null!==r&&r.anchorNode===e&&(i=r.anchorOffset,o=r.focusOffset);var a=e.nodeValue;null!==a&&Nt(t,a,i,o,!1)}function Ke(e,t,n){if(Vr(e)){var r=e.anchor.getNode();if(r.is(n)&&e.format!==r.getFormat())return!1}return 3===t.nodeType&&n.isAttached()}function je(e,t,n){Ze=!0;var r=performance.now()-ze>100;try{Zi(e,(function(){for(var i=li()||function(e){return e.getEditorState().read((function(){var e=li();return null!==e?e.clone():null}))}(e),o=new Map,a=e.getRootElement(),l=e._editorState,u=e._blockCursorElement,s=!1,f="",c=0;c<t.length;c++){var v=t[c],h=v.type,g=v.target,y=ht(g,l);if(!(null===y&&g!==a||Ki(y)))if("characterData"===h)r&&Ar(y)&&Ke(i,g,y)&&Re(g,y,e);else if("childList"===h){s=!0;for(var p=v.addedNodes,m=0;m<p.length;m++){var k=p[m],x=vt(k),S=k.parentNode;if(null!=S&&k!==u&&null===x&&("BR"!==k.nodeName||!We(k,S,e))){if(he){var T=k.innerText||k.nodeValue;T&&(f+=T)}S.removeChild(k)}}var C=v.removedNodes,b=C.length;if(b>0){for(var w=0,N=0;N<b;N++){var E=C[N];("BR"===E.nodeName&&We(E,g,e)||u===E)&&(g.appendChild(E),w++)}b!==w&&(g===a&&(y=pt(l)),o.set(g,y))}}}if(o.size>0){var P,O=_(o);try{for(O.s();!(P=O.n()).done;){var D=(0,d.Z)(P.value,2),L=D[0],F=D[1];if(Bi(F))for(var I=F.getChildrenKeys(),A=L.firstChild,M=0;M<I.length;M++){var Z=I[M],z=e.getElementByKey(Z);null!==z&&(null==A?(L.appendChild(z),A=z):A!==z&&L.replaceChild(z,A),A=A.nextSibling)}else Ar(F)&&F.markDirty()}}catch(H){O.e(H)}finally{O.f()}}var B=n.takeRecords();if(B.length>0){for(var W=0;W<B.length;W++)for(var R=B[W],K=R.addedNodes,j=R.target,J=0;J<K.length;J++){var U=K[J],V=U.parentNode;null==V||"BR"!==U.nodeName||We(U,j,e)||V.removeChild(U)}n.takeRecords()}null!==i&&(s&&(i.dirty=!0,mt(i)),he&&Wt(e)&&i.insertRawText(f))}))}finally{Ze=!1}}function Je(e){var t=e._observer;null!==t&&je(e,t.takeRecords(),t)}function Ue(e){!function(e){0===ze&&Vt(e).addEventListener("textInput",Be,!0)}(e),e._observer=new MutationObserver((function(t,n){je(e,t,n)}))}function Ve(e,t){var n=e.__mode,r=e.__format,i=e.__style,o=t.__mode,a=t.__format,l=t.__style;return!(null!==n&&n!==o||null!==r&&r!==a||null!==i&&i!==l)}function He(e,t){var n=e.mergeWithSibling(t),r=wi()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function qe(e){var t,n,r=e;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(t=r.getPreviousSibling())&&Ar(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){if(Ve(t,r)){r=He(t,r);break}break}t.remove()}for(;null!==(n=r.getNextSibling())&&Ar(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(Ve(r,n)){r=He(r,n);break}break}n.remove()}}else r.remove()}function $e(e){return Xe(e.anchor),Xe(e.focus),e}function Xe(e){for(;"element"===e.type;){var t=e.getNode(),n=e.offset,r=void 0,i=void 0;if(n===t.getChildrenSize()?(r=t.getChildAtIndex(n-1),i=!0):(r=t.getChildAtIndex(n),i=!1),Ar(r)){e.set(r.__key,i?r.getTextContentSize():0,"text");break}if(!Bi(r))break;e.set(r.__key,i?r.getChildrenSize():0,"element")}}var Ge=1;var Qe="function"==typeof queueMicrotask?queueMicrotask:function(e){Promise.resolve().then(e)};function Ye(e){var t=document.activeElement;if(null===t)return!1;var n=t.nodeName;return Ki(ht(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==t.__lexicalEditor)}function et(e,t,n){var r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!Ye(t)&&tt(t)===e}catch(e){return!1}}function tt(e){for(var t=e;null!=t;){var n=t.__lexicalEditor;if(null!=n)return n;t=Jt(t)}return null}function nt(e){return e.isToken()||e.isSegmented()}function rt(e){return 3===e.nodeType}function it(e){for(var t=e;null!=t;){if(rt(t))return t;t=t.firstChild}return null}function ot(e,t,n){var r=Pe[t];if(null!==n&&(e&r)==(n&r))return e;var i=e^r;return"subscript"===t?i&=~Pe.superscript:"superscript"===t&&(i&=~Pe.subscript),i}function at(e){return Ar(e)||_r(e)||Ki(e)}function lt(e,t){if(null==t){Ti(),Ci();var n=wi(),r=bi(),i=""+Ge++;r._nodeMap.set(i,e),Bi(e)?n._dirtyElements.set(i,!0):n._dirtyLeaves.add(i),n._cloneNotNeeded.add(i),n._dirtyType=1,e.__key=i}else e.__key=t}function ut(e){var t=e.getParent();if(null!==t){var n=e.getWritable(),r=t.getWritable(),i=e.getPreviousSibling(),o=e.getNextSibling();if(null===i)if(null!==o){var a=o.getWritable();r.__first=o.__key,a.__prev=null}else r.__first=null;else{var l=i.getWritable();if(null!==o){var u=o.getWritable();u.__prev=l.__key,l.__next=u.__key}else l.__next=null;n.__prev=null}if(null===o)if(null!==i){var s=i.getWritable();r.__last=i.__key,s.__next=null}else r.__last=null;else{var f=o.getWritable();if(null!==i){var c=i.getWritable();c.__next=f.__key,f.__prev=c.__key}else f.__prev=null;n.__next=null}r.__size--,n.__parent=null}}function st(e){Ci();var t=e.getLatest(),n=t.__parent,r=bi(),i=wi(),o=r._nodeMap,a=i._dirtyElements;null!==n&&function(e,t,n){for(var r=e;null!==r;){if(n.has(r))return;var i=t.get(r);if(void 0===i)break;n.set(r,!1),r=i.__parent}}(n,o,a);var l=t.__key;i._dirtyType=1,Bi(e)?a.set(l,!0):i._dirtyLeaves.add(l)}function ft(e){Ti();var t=wi(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,null!==n){var r=dt(n);null!==r&&r.getWritable()}if(null!==e){var i=dt(e);null!==i&&i.getWritable()}}}function ct(){return Si()?null:wi()._compositionKey}function dt(e,t){var n=(t||bi())._nodeMap.get(e);return void 0===n?null:n}function vt(e,t){var n=e["__lexicalKey_".concat(wi()._key)];return void 0!==n?dt(n,t):null}function ht(e,t){for(var n=e;null!=n;){var r=vt(n,t);if(null!==r)return r;n=Jt(n)}return null}function gt(e){var t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function yt(e){return e.read((function(){return _t().getTextContent()}))}function _t(){return pt(bi())}function pt(e){return e._nodeMap.get("root")}function mt(e){Ti();var t=bi();null!==e&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function kt(e){var t=wi(),n=function(e,t){for(var n=e;null!=n;){var r=n["__lexicalKey_".concat(t._key)];if(void 0!==r)return r;n=Jt(n)}return null}(e,t);return null===n?e===t.getRootElement()?dt("root"):null:dt(n)}function xt(e,t){return t?e.getTextContentSize():0}function St(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function Tt(e){for(var t=[],n=e;null!==n;)t.push(n),n=n._parentEditor;return t}function Ct(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function bt(e){return 3===e.nodeType?e.nodeValue:null}function wt(e,t,n){var r=Qt(t._window);if(null!==r){var i=r.anchorNode,o=r.anchorOffset,a=r.focusOffset;if(null!==i){var l=bt(i),u=ht(i);if(null!==l&&Ar(u)){if(l===Se&&n){var s=n.length;l=n,o=s,a=s}null!==l&&Nt(u,l,o,a,e)}}}}function Nt(e,t,n,r,i){var o=e;if(o.isAttached()&&(i||!o.isDirty())){var a=o.isComposing(),l=t;(a||i)&&t[t.length-1]===Se&&(l=t.slice(0,-1));var u=o.getTextContent();if(i||l!==u){if(""===l){if(ft(null),ye||_e||xe)o.remove();else{var s=wi();setTimeout((function(){s.update((function(){o.isAttached()&&o.remove()}))}),20)}return}var f=o.getParent(),c=ui(),d=o.getTextContentSize(),v=ct(),h=o.getKey();if(o.isToken()||null!==v&&h===v&&!a||Vr(c)&&(null!==f&&!f.canInsertTextBefore()&&0===c.anchor.offset||c.anchor.key===e.__key&&0===c.anchor.offset&&!o.canInsertTextBefore()&&!a||c.focus.key===e.__key&&c.focus.offset===d&&!o.canInsertTextAfter()&&!a))return void o.markDirty();var g=li();if(!Vr(g)||null===n||null===r)return void o.setTextContent(l);if(g.setTextNodeRange(o,n,o,r),o.isSegmented()){var y=Ir(o.getTextContent());o.replace(y),o=y}o.setTextContent(l)}}}function Et(e){return"ArrowLeft"===e}function Pt(e){return"ArrowRight"===e}function Ot(e,t){return ve?e:t}function Dt(e){return"Enter"===e}function Lt(e){return"Backspace"===e}function Ft(e){return"Delete"===e}function It(e,t,n){return"a"===e.toLowerCase()&&Ot(t,n)}function At(){var e=_t();mt($e(e.select(0,e.getChildrenSize())))}function Mt(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});var n=e.__lexicalClassNameCache,r=n[t];if(void 0!==r)return r;var i=e[t];if("string"==typeof i){var o=Me(i);return n[t]=o,o}return i}function Zt(e,t,n,r,i){if(0!==n.size){var o=r.__type,a=r.__key,l=t.get(o);void 0===l&&Ae(33,o);var u=l.klass,s=e.get(u);void 0===s&&(s=new Map,e.set(u,s));var f=s.get(a),c="destroyed"===f&&"created"===i;(void 0===f||c)&&s.set(a,c?"updated":i)}}function zt(e,t,n){var r=e.getParent(),i=n,o=e;return null!==r&&(t&&0===n?(i=o.getIndexWithinParent(),o=r):t||n!==o.getChildrenSize()||(i=o.getIndexWithinParent()+1,o=r)),o.getChildAtIndex(t?i-1:i)}function Bt(e,t){var n=e.offset;if("element"===e.type)return zt(e.getNode(),t,n);var r=e.getNode();if(t&&0===n||!t&&n===r.getTextContentSize()){var i=t?r.getPreviousSibling():r.getNextSibling();return null===i?zt(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):i}return null}function Wt(e){var t=Vt(e).event,n=t&&t.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function Rt(e,t,n){return Ii(e,t,n)}function Kt(e){return!Ji(e)&&!e.isLastChild()&&!e.isInline()}function jt(e,t){var n=e._keyToDOMMap.get(t);return void 0===n&&Ae(75,t),n}function Jt(e){var t=e.assignedSlot||e.parentElement;return null!==t&&11===t.nodeType?t.host:t}function Ut(e,t){for(var n=e.getParent();null!==n;){if(n.is(t))return!0;n=n.getParent()}return!1}function Vt(e){var t=e._window;return null===t&&Ae(78),t}function Ht(e){return Ji(e)||Bi(e)&&e.isShadowRoot()}function qt(e){var t=wi(),n=e.constructor.getType(),r=t._nodes.get(n);void 0===r&&Ae(97);var i=r.replace;if(null!==i){var o=i(e);return o instanceof e.constructor||Ae(98),o}return e}function $t(e,t){!Ji(e.getParent())||Bi(t)||Ki(t)||Ae(99)}function Xt(e){return(Ki(e)||Bi(e)&&!e.canBeEmpty())&&!e.isInline()}function Gt(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;var r=e.parentElement;null!==r&&r.removeChild(e)}function Qt(e){return ce?(e||window).getSelection():null}function Yt(e){return en(e)&&"A"===e.tagName}function en(e){return 1===e.nodeType}function tn(e){var t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==e.nodeName.match(t)}function nn(e){var t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==e.nodeName.match(t)}function rn(e){if(Ji(e)||Ki(e)&&!e.isInline())return!0;if(!Bi(e)||Ht(e))return!1;var t=e.getFirstChild(),n=null===t||_r(t)||Ar(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&n}function on(e,t){for(var n=e;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}var an=new WeakMap,ln=new Map;function un(e){if(!e._readOnly&&e.isEmpty())return ln;e._readOnly||Ae(192);var t=an.get(e);if(!t){t=new Map,an.set(e,t);var n,r=_(e._nodeMap);try{for(r.s();!(n=r.n()).done;){var i=(0,d.Z)(n.value,2),o=i[0],a=i[1],l=a.__type,u=t.get(l);u||(u=new Map,t.set(l,u)),u.set(o,a)}}catch(s){r.e(s)}finally{r.f()}}return t}function sn(e){var t=e.constructor.clone(e);return t.__parent=e.__parent,t.__next=e.__next,t.__prev=e.__prev,Bi(e)&&Bi(t)?(Qi(e)&&Qi(t)&&(t.__textFormat=e.__textFormat,t.__textStyle=e.__textStyle),t.__first=e.__first,t.__last=e.__last,t.__size=e.__size,t.__indent=e.__indent,t.__format=e.__format,t.__style=e.__style,t.__dir=e.__dir):Ar(e)&&Ar(t)&&(t.__format=e.__format,t.__style=e.__style,t.__mode=e.__mode,t.__detail=e.__detail),t}function fn(e,t,n,r,i,o){for(var a=e.getFirstChild();null!==a;){var l=a.__key;a.__parent===t&&(Bi(a)&&fn(a,l,n,r,i,o),n.has(l)||o.delete(l),i.push(l)),a=a.getNextSibling()}}var cn,dn,vn,hn,gn,yn,_n,pn,mn,kn,xn="",Sn="",Tn=null,Cn="",bn="",wn=!1,Nn=!1,En=null;function Pn(e,t){var n=_n.get(e);if(null!==t){var r=jn(e);r.parentNode===t&&t.removeChild(r)}if(pn.has(e)||dn._keyToDOMMap.delete(e),Bi(n)){var i=Bn(n,_n);On(i,0,i.length-1,null)}void 0!==n&&Zt(kn,vn,hn,n,"destroyed")}function On(e,t,n,r){for(var i=t;i<=n;++i){var o=e[i];void 0!==o&&Pn(o,r)}}function Dn(e,t){e.setProperty("text-align",t)}function Ln(e,t){var n=cn.theme.indent;if("string"==typeof n){var r=e.classList.contains(n);t>0&&!r?e.classList.add(n):t<1&&r&&e.classList.remove(n)}var i=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||"40px";e.style.setProperty("padding-inline-start",0===t?"":"calc(".concat(t," * ").concat(i,")"))}function Fn(e,t){var n=e.style;0===t?Dn(n,""):1===t?Dn(n,"left"):2===t?Dn(n,"center"):3===t?Dn(n,"right"):4===t?Dn(n,"justify"):5===t?Dn(n,"start"):6===t&&Dn(n,"end")}function In(e,t,n){var r=pn.get(e);void 0===r&&Ae(60);var i=r.createDOM(cn,dn);if(function(e,t,n){var r=n._keyToDOMMap;t["__lexicalKey_"+n._key]=e,r.set(e,t)}(e,i,dn),Ar(r)?i.setAttribute("data-lexical-text","true"):Ki(r)&&i.setAttribute("data-lexical-decorator","true"),Bi(r)){var o=r.__indent,a=r.__size;if(0!==o&&Ln(i,o),0!==a){var l=a-1;!function(e,t,n,r){var i=Sn;Sn="",An(e,n,0,t,r,null),zn(n,r),Sn=i}(Bn(r,pn),l,r,i)}var u=r.__format;0!==u&&Fn(i,u),r.isInline()||Zn(null,r,i),Kt(r)&&(xn+=Te,bn+=Te)}else{var s=r.getTextContent();if(Ki(r)){var f=r.decorate(dn,cn);null!==f&&Rn(e,f),i.contentEditable="false"}else Ar(r)&&(r.isDirectionless()||(Sn+=s));xn+=s,bn+=s}if(null!==t)if(null!=n)t.insertBefore(i,n);else{var c=t.__lexicalLineBreak;null!=c?t.insertBefore(i,c):t.appendChild(i)}return Zt(kn,vn,hn,r,"created"),i}function An(e,t,n,r,i,o){var a=xn;xn="";for(var l=n;l<=r;++l){In(e[l],i,o);var u=pn.get(e[l]);null!==u&&Ar(u)&&(null===Tn&&(Tn=u.getFormat()),""===Cn&&(Cn=u.getStyle()))}Kt(t)&&(xn+=Te),i.__lexicalTextContent=xn,xn=a+xn}function Mn(e,t){var n=t.get(e);return _r(n)||Ki(n)&&n.isInline()}function Zn(e,t,n){var r=null!==e&&(0===e.__size||Mn(e.__last,_n)),i=0===t.__size||Mn(t.__last,pn);if(r){if(!i){var o=n.__lexicalLineBreak;null!=o&&n.removeChild(o),n.__lexicalLineBreak=null}}else if(i){var a=document.createElement("br");n.__lexicalLineBreak=a,n.appendChild(a)}}function zn(e,t){var n,r=t.__lexicalDirTextContent,i=t.__lexicalDir;if(r!==Sn||i!==En){var o=""===Sn,a=o?En:(n=Sn,Ne.test(n)?"rtl":Ee.test(n)?"ltr":null);if(a!==i){var l=t.classList,u=cn.theme,s=null!==i?u[i]:void 0,f=null!==a?u[a]:void 0;if(void 0!==s){if("string"==typeof s){var d=Me(s);s=u[i]=d}l.remove.apply(l,(0,c.Z)(s))}if(null===a||o&&"ltr"===a)t.removeAttribute("dir");else{if(void 0!==f){if("string"==typeof f){var v=Me(f);f=u[a]=v}void 0!==f&&l.add.apply(l,(0,c.Z)(f))}t.dir=a}Nn||(e.getWritable().__dir=a)}En=a,t.__lexicalDirTextContent=Sn,t.__lexicalDir=a}}function Bn(e,t){for(var n=[],r=e.__first;null!==r;){var i=t.get(r);void 0===i&&Ae(101),n.push(r),r=i.__next}return n}function Wn(e,t){var n=_n.get(e),r=pn.get(e);void 0!==n&&void 0!==r||Ae(61);var i=wn||yn.has(e)||gn.has(e),o=jt(dn,e);if(n===r&&!i){if(Bi(n)){var a=o.__lexicalTextContent;void 0!==a&&(xn+=a,bn+=a);var l=o.__lexicalDirTextContent;void 0!==l&&(Sn+=l)}else{var u=n.getTextContent();Ar(n)&&!n.isDirectionless()&&(Sn+=u),bn+=u,xn+=u}return o}if(n!==r&&i&&Zt(kn,vn,hn,r,"updated"),r.updateDOM(n,o,cn)){var s=In(e,null,null);return null===t&&Ae(62),t.replaceChild(s,o),Pn(e,null),s}if(Bi(n)&&Bi(r)){var f=r.__indent;f!==n.__indent&&Ln(o,f);var c=r.__format;c!==n.__format&&Fn(o,c),i&&(function(e,t,n){var r,i=Sn;Sn="",Tn=null,Cn="",function(e,t,n){var r=xn,i=e.__size,o=t.__size;if(xn="",1===i&&1===o){var a=e.__first,l=t.__first;if(a===l)Wn(a,n);else{var u=jn(a),s=In(l,null,null);n.replaceChild(s,u),Pn(a,null)}var f=pn.get(l);Ar(f)&&(null===Tn&&(Tn=f.getFormat()),""===Cn&&(Cn=f.getStyle()))}else{var c=Bn(e,_n),d=Bn(t,pn);if(0===i)0!==o&&An(d,t,0,o-1,n,null);else if(0===o){if(0!==i){var v=null==n.__lexicalLineBreak;On(c,0,i-1,v?null:n),v&&(n.textContent="")}}else!function(e,t,n,r,i,o){for(var a,l,u=r-1,s=i-1,f=o.firstChild,c=0,d=0;c<=u&&d<=s;){var v=t[c],h=n[d];if(v===h)f=Kn(Wn(h,o)),c++,d++;else{void 0===a&&(a=new Set(t)),void 0===l&&(l=new Set(n));var g=l.has(v),y=a.has(h);if(g)if(y){var _=jt(dn,h);_===f?f=Kn(Wn(h,o)):(null!=f?o.insertBefore(_,f):o.appendChild(_),Wn(h,o)),c++,d++}else In(h,o,f),d++;else f=Kn(jn(v)),Pn(v,o),c++}var p=pn.get(h);null!==p&&Ar(p)&&(null===Tn&&(Tn=p.getFormat()),""===Cn&&(Cn=p.getStyle()))}var m=c>u,k=d>s;if(m&&!k){var x=n[s+1];An(n,e,d,s,o,void 0===x?null:dn.getElementByKey(x))}else k&&!m&&On(t,c,u,o)}(t,c,d,i,o,n)}Kt(t)&&(xn+=Te),n.__lexicalTextContent=xn,xn=r+xn}(e,t,n),zn(t,n),Qi(r=t)&&null!=Tn&&Tn!==r.__textFormat&&!Nn&&(r.setTextFormat(Tn),r.setTextStyle(Cn)),function(e){Qi(e)&&""!==Cn&&Cn!==e.__textStyle&&!Nn&&e.setTextStyle(Cn)}(t),Sn=i}(n,r,o),Ji(r)||r.isInline()||Zn(n,r,o)),Kt(r)&&(xn+=Te,bn+=Te)}else{var d=r.getTextContent();if(Ki(r)){var v=r.decorate(dn,cn);null!==v&&Rn(e,v)}else Ar(r)&&!r.isDirectionless()&&(Sn+=d);xn+=d,bn+=d}if(!Nn&&Ji(r)&&r.__cachedText!==bn){var h=r.getWritable();h.__cachedText=bn,r=h}return o}function Rn(e,t){var n=dn._pendingDecorators,r=dn._decorators;if(null===n){if(r[e]===t)return;n=gt(dn)}n[e]=t}function Kn(e){var t=e.nextSibling;return null!==t&&t===dn._blockCursorElement&&(t=t.nextSibling),t}function jn(e){var t=mn.get(e);return void 0===t&&Ae(75,e),t}var Jn=Object.freeze({}),Un=[["keydown",function(e,t){if(Vn=e.timeStamp,Hn=e.key,!t.isComposing()){var n=e.key,r=e.shiftKey,i=e.ctrlKey,o=e.metaKey,a=e.altKey;Rt(t,I,e)||null!=n&&(!function(e,t,n,r){return Pt(e)&&!t&&!r&&!n}(n,i,a,o)?!function(e,t,n,r,i){return Pt(e)&&!r&&!n&&(t||i)}(n,i,r,a,o)?!function(e,t,n,r){return Et(e)&&!t&&!r&&!n}(n,i,a,o)?!function(e,t,n,r,i){return Et(e)&&!r&&!n&&(t||i)}(n,i,r,a,o)?!function(e,t,n){return function(e){return"ArrowUp"===e}(e)&&!t&&!n}(n,i,o)?!function(e,t,n){return function(e){return"ArrowDown"===e}(e)&&!t&&!n}(n,i,o)?!function(e,t){return Dt(e)&&t}(n,r)?!function(e){return" "===e}(n)?!function(e,t){return ve&&t&&"o"===e.toLowerCase()}(n,i)?!function(e,t){return Dt(e)&&!t}(n,r)?!function(e,t,n,r){return ve?!t&&!n&&(Lt(e)||"h"===e.toLowerCase()&&r):!(r||t||n)&&Lt(e)}(n,a,o,i)?!function(e){return"Escape"===e}(n)?!function(e,t,n,r,i){return ve?!(n||r||i)&&(Ft(e)||"d"===e.toLowerCase()&&t):!(t||r||i)&&Ft(e)}(n,i,r,a,o)?!function(e,t,n){return Lt(e)&&(ve?t:n)}(n,a,i)?!function(e,t,n){return Ft(e)&&(ve?t:n)}(n,a,i)?!function(e,t){return ve&&t&&Lt(e)}(n,o)?!function(e,t){return ve&&t&&Ft(e)}(n,o)?!function(e,t,n,r){return"b"===e.toLowerCase()&&!t&&Ot(n,r)}(n,a,o,i)?!function(e,t,n,r){return"u"===e.toLowerCase()&&!t&&Ot(n,r)}(n,a,o,i)?!function(e,t,n,r){return"i"===e.toLowerCase()&&!t&&Ot(n,r)}(n,a,o,i)?!function(e,t,n,r){return"Tab"===e&&!t&&!n&&!r}(n,a,i,o)?!function(e,t,n,r){return"z"===e.toLowerCase()&&!t&&Ot(n,r)}(n,r,o,i)?!function(e,t,n,r){return ve?"z"===e.toLowerCase()&&n&&t:"y"===e.toLowerCase()&&r||"z"===e.toLowerCase()&&r&&t}(n,r,o,i)?qr(t._editorState._selection)?function(e,t,n,r){return!t&&"c"===e.toLowerCase()&&(ve?n:r)}(n,r,o,i)?(e.preventDefault(),Rt(t,te,e)):function(e,t,n,r){return!t&&"x"===e.toLowerCase()&&(ve?n:r)}(n,r,o,i)?(e.preventDefault(),Rt(t,ne,e)):It(n,o,i)&&(e.preventDefault(),Rt(t,re,e)):!he&&It(n,o,i)&&(e.preventDefault(),Rt(t,re,e)):(e.preventDefault(),Rt(t,F,void 0)):(e.preventDefault(),Rt(t,L,void 0)):Rt(t,V,e):(e.preventDefault(),Rt(t,D,"italic")):(e.preventDefault(),Rt(t,D,"underline")):(e.preventDefault(),Rt(t,D,"bold")):(e.preventDefault(),Rt(t,O,!1)):(e.preventDefault(),Rt(t,O,!0)):(e.preventDefault(),Rt(t,P,!1)):(e.preventDefault(),Rt(t,P,!0)):Ft(n)?Rt(t,U,e):(e.preventDefault(),Rt(t,T,!1)):Rt(t,J,e):Lt(n)?Rt(t,j,e):(e.preventDefault(),Rt(t,T,!0)):(Yn=!1,Rt(t,R,e)):(e.preventDefault(),Yn=!0,Rt(t,C,!0)):Rt(t,K,e):(Yn=!0,Rt(t,R,e)):Rt(t,W,e):Rt(t,B,e):Rt(t,z,e):Rt(t,Z,e):Rt(t,M,e):Rt(t,A,e),function(e,t,n,r){return e||t||n||r}(i,r,a,o)&&Rt(t,fe,e))}}],["pointerdown",function(e,t){var n=e.target,r=e.pointerType;n instanceof Node&&"touch"!==r&&Zi(t,(function(){Ki(ht(n))||(Qn=!0)}))}],["compositionstart",function(e,t){Zi(t,(function(){var n=li();if(Vr(n)&&!t.isComposing()){var r=n.anchor,i=n.anchor.getNode();ft(r.key),(e.timeStamp<Vn+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||Ar(i)&&i.getStyle()!==n.style)&&Rt(t,w,Ce)}}))}],["compositionend",function(e,t){he?er=!0:Zi(t,(function(){ar(t,e.data)}))}],["input",function(e,t){e.stopPropagation(),Zi(t,(function(){var n=li(),r=e.data,i=or(e);if(null!=r&&Vr(n)&&nr(n,i,r,e.timeStamp,!1)){er&&(ar(t,r),er=!1);var o=n.anchor.getNode(),a=Qt(t._window);if(null===a)return;var l=n.isBackward(),u=l?n.anchor.offset:n.focus.offset,s=l?n.focus.offset:n.anchor.offset;ge&&!n.isCollapsed()&&Ar(o)&&null!==a.anchorNode&&o.getTextContent().slice(0,u)+r+o.getTextContent().slice(u+s)===bt(a.anchorNode)||Rt(t,w,r);var f=r.length;he&&f>1&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=f),ye||_e||xe||!t.isComposing()||(Vn=0,ft(null))}else wt(!1,t,null!==r?r:void 0),er&&(ar(t,r||void 0),er=!1);Ti(),Je(wi())})),$n=null}],["click",function(e,t){Zi(t,(function(){var n=li(),r=Qt(t._window),i=ui();if(r)if(Vr(n)){var o=n.anchor,a=o.getNode();"element"===o.type&&0===o.offset&&n.isCollapsed()&&!Ji(a)&&1===_t().getChildrenSize()&&a.getTopLevelElementOrThrow().isEmpty()&&null!==i&&n.is(i)?(r.removeAllRanges(),n.dirty=!0):3!==e.detail||n.isCollapsed()||a!==n.focus.getNode()&&(Bi(a)?a.select(0):a.getParentOrThrow().select(0))}else if("touch"===e.pointerType){var l=r.anchorNode;if(null!==l){var u=l.nodeType;1!==u&&3!==u||mt(ai(i,r,t,e))}}Rt(t,S,e)}))}],["cut",Jn],["copy",Jn],["dragstart",Jn],["dragover",Jn],["dragend",Jn],["paste",Jn],["focus",Jn],["blur",Jn],["drop",Jn]];ge&&Un.push(["beforeinput",function(e,t){return function(e,t){var n=e.inputType,r=or(e);"deleteCompositionText"===n||he&&Wt(t)||"insertCompositionText"!==n&&Zi(t,(function(){var i,o=li();if("deleteContentBackward"===n){if(null===o){var a=ui();if(!Vr(a))return;mt(a.clone())}if(Vr(o)){var l=o.anchor.key===o.focus.key;if(i=e.timeStamp,"MediaLast"===Hn&&i<Vn+30&&t.isComposing()&&l){if(ft(null),Vn=0,setTimeout((function(){Zi(t,(function(){ft(null)}))}),30),Vr(o)){var u=o.anchor.getNode();u.markDirty(),o.format=u.getFormat(),Ar(u)||Ae(142),o.style=u.getStyle()}}else{ft(null),e.preventDefault();var s=o.anchor.getNode().getTextContent(),f=0===o.anchor.offset&&o.focus.offset===s.length;ke&&l&&!f||Rt(t,T,!0)}return}}if(Vr(o)){var c=e.data;null!==$n&&wt(!1,t,$n),o.dirty&&null===$n||!o.isCollapsed()||Ji(o.anchor.getNode())||null===r||o.applyDOMRange(r),$n=null;var d=o.anchor,v=o.focus,h=d.getNode(),g=v.getNode();if("insertText"!==n&&"insertTranspose"!==n)switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Rt(t,w,e);break;case"insertFromComposition":ft(null),Rt(t,w,e);break;case"insertLineBreak":ft(null),Rt(t,C,!1);break;case"insertParagraph":ft(null),Yn&&!_e?(Yn=!1,Rt(t,C,!1)):Rt(t,b,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Rt(t,N,e);break;case"deleteByComposition":(function(e,t){return e!==t||Bi(e)||Bi(t)||!e.isToken()||!t.isToken()})(h,g)&&Rt(t,E,e);break;case"deleteByDrag":case"deleteByCut":Rt(t,E,e);break;case"deleteContent":Rt(t,T,!1);break;case"deleteWordBackward":Rt(t,P,!0);break;case"deleteWordForward":Rt(t,P,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Rt(t,O,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Rt(t,O,!1);break;case"formatStrikeThrough":Rt(t,D,"strikethrough");break;case"formatBold":Rt(t,D,"bold");break;case"formatItalic":Rt(t,D,"italic");break;case"formatUnderline":Rt(t,D,"underline");break;case"historyUndo":Rt(t,L,void 0);break;case"historyRedo":Rt(t,F,void 0)}else{if("\n"===c)e.preventDefault(),Rt(t,C,!1);else if(c===Te)e.preventDefault(),Rt(t,b,void 0);else if(null==c&&e.dataTransfer){var y=e.dataTransfer.getData("text/plain");e.preventDefault(),o.insertRawText(y)}else null!=c&&nr(o,r,c,e.timeStamp,!0)?(e.preventDefault(),Rt(t,w,c)):$n=c;qn=e.timeStamp}}}))}(e,t)}]);var Vn=0,Hn=null,qn=0,$n=null,Xn=new WeakMap,Gn=!1,Qn=!1,Yn=!1,er=!1,tr=[0,"",0,"root",0];function nr(e,t,n,r,i){var o=e.anchor,a=e.focus,l=o.getNode(),u=wi(),s=Qt(u._window),f=null!==s?s.anchorNode:null,c=o.key,d=u.getElementByKey(c),v=n.length;return c!==a.key||!Ar(l)||(!i&&(!ge||qn<r+50)||l.isDirty()&&v<2||St(n))&&o.offset!==a.offset&&!l.isComposing()||nt(l)||l.isDirty()&&v>1||(i||!ge)&&null!==d&&!l.isComposing()&&f!==it(d)||null!==s&&null!==t&&(!t.collapsed||t.startContainer!==s.anchorNode||t.startOffset!==s.anchorOffset)||l.getFormat()!==e.format||l.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;var n=e.anchor.offset,r=t.getParentOrThrow(),i=t.isToken();return 0===n?!t.canInsertTextBefore()||!r.canInsertTextBefore()&&!t.isComposing()||i||function(e){var t=e.getPreviousSibling();return(Ar(t)||Bi(t)&&t.isInline())&&!t.canInsertTextAfter()}(t):n===t.getTextContentSize()&&(!t.canInsertTextAfter()||!r.canInsertTextAfter()&&!t.isComposing()||i)}(e,l)}function rr(e,t){return null!==e&&null!==e.nodeValue&&3===e.nodeType&&0!==t&&t!==e.nodeValue.length}function ir(e,t,n){var r=e.anchorNode,i=e.anchorOffset,o=e.focusNode,a=e.focusOffset;Gn&&(Gn=!1,rr(r,i)&&rr(o,a))||Zi(t,(function(){if(n){if(et(t,r,o)){var l=li();if(Vr(l)){var u=l.anchor,s=u.getNode();if(l.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(l.dirty=!0);var f=Vt(t).event,c=f?f.timeStamp:performance.now(),v=tr,h=(0,d.Z)(v,5),g=h[0],y=h[1],_=h[2],p=h[3],m=h[4],x=_t(),S=!1===t.isComposing()&&""===x.getTextContent();if(c<m+200&&u.offset===_&&u.key===p)l.format=g,l.style=y;else if("text"===u.type)Ar(s)||Ae(141),l.format=s.getFormat(),l.style=s.getStyle();else if("element"===u.type&&!S){var T=u.getNode();l.style="",T instanceof $i&&0===T.getChildrenSize()?(l.format=T.getTextFormat(),l.style=T.getTextStyle()):l.format=0}}else{for(var C=u.key,b=l.focus.key,w=l.getNodes(),N=w.length,E=l.isBackward(),P=E?a:i,O=E?i:a,D=E?b:C,L=E?C:b,F=255,I=!1,A=0;A<N;A++){var M=w[A],Z=M.getTextContentSize();if(Ar(M)&&0!==Z&&!(0===A&&M.__key===D&&P===Z||A===N-1&&M.__key===L&&0===O)&&(I=!0,0===(F&=M.getFormat())))break}l.format=I?F:0}}Rt(t,k,void 0)}}else mt(null)}))}function or(e){if(!e.getTargetRanges)return null;var t=e.getTargetRanges();return 0===t.length?null:t[0]}function ar(e,t){var n=e._compositionKey;if(ft(null),null!==n&&null!=t){if(""===t){var r=dt(n),i=it(e.getElementByKey(n));return void(null!==i&&null!==i.nodeValue&&Ar(r)&&Nt(r,i.nodeValue,null,null,!0))}if("\n"===t[t.length-1]){var o=li();if(Vr(o)){var a=o.focus;return o.anchor.set(a.key,a.offset,a.type),void Rt(e,R,null)}}}wt(!0,e,t)}function lr(e){var t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}var ur=new Map;function sr(e){var t=e.target,n=Qt(null==t?null:9===t.nodeType?t.defaultView:t.ownerDocument.defaultView);if(null!==n){var r=tt(n.anchorNode);if(null!==r){Qn&&(Qn=!1,Zi(r,(function(){var t=ui(),i=n.anchorNode;if(null!==i){var o=i.nodeType;1!==o&&3!==o||mt(ai(t,n,r,e))}})));var i=Tt(r),o=i[i.length-1],a=o._key,l=ur.get(a),u=l||o;u!==r&&ir(n,u,!1),ir(n,r,!0),r!==o?ur.set(a,r):l&&ur.delete(a)}}}function fr(e){e._lexicalHandled=!0}function cr(e){return!0===e._lexicalHandled}function dr(e,t,n){Ti();var r=e.__key,i=e.getParent();if(null!==i){var o=function(e){var t=li();if(!Vr(t)||!Bi(e))return t;var n=t.anchor,r=t.focus,i=n.getNode(),o=r.getNode();return Ut(i,e)&&n.set(e.__key,0,"element"),Ut(o,e)&&r.set(e.__key,0,"element"),t}(e),a=!1;if(Vr(o)&&t){var l=o.anchor,u=o.focus;l.key===r&&(ci(l,e,i,e.getPreviousSibling(),e.getNextSibling()),a=!0),u.key===r&&(ci(u,e,i,e.getPreviousSibling(),e.getNextSibling()),a=!0)}else qr(o)&&t&&e.isSelected()&&e.selectPrevious();if(Vr(o)&&t&&!a){var s=e.getIndexWithinParent();ut(e),si(o,i,s,-1)}else ut(e);n||Ht(i)||i.canBeEmpty()||!i.isEmpty()||dr(i,t),t&&Ji(i)&&i.isEmpty()&&i.selectEnd()}}var vr=function(){function e(t){(0,s.Z)(this,e),this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,lt(this,t)}return(0,f.Z)(e,[{key:"getType",value:function(){return this.__type}},{key:"isInline",value:function(){Ae(137,this.constructor.name)}},{key:"isAttached",value:function(){for(var e=this.__key;null!==e;){if("root"===e)return!0;var t=dt(e);if(null===t)break;e=t.__parent}return!1}},{key:"isSelected",value:function(e){var t=this,n=e||li();if(null==n)return!1;var r=n.getNodes().some((function(e){return e.__key===t.__key}));if(Ar(this))return r;if(Vr(n)&&"element"===n.anchor.type&&"element"===n.focus.type){if(n.isCollapsed())return!1;var i=this.getParent();if(Ki(this)&&this.isInline()&&i){var o=n.anchor,a=n.focus;if(o.isBefore(a)){var l=o.getNode(),u=o.offset===l.getChildrenSize(),s=l.is(i),f=l.getLastChildOrThrow().is(this);if(u&&s&&f)return!1}else{var c=a.getNode(),d=a.offset===c.getChildrenSize(),v=c.is(i),h=c.getLastChildOrThrow().is(this);if(d&&v&&h)return!1}}}return r}},{key:"getKey",value:function(){return this.__key}},{key:"getIndexWithinParent",value:function(){var e=this.getParent();if(null===e)return-1;for(var t=e.getFirstChild(),n=0;null!==t;){if(this.is(t))return n;n++,t=t.getNextSibling()}return-1}},{key:"getParent",value:function(){var e=this.getLatest().__parent;return null===e?null:dt(e)}},{key:"getParentOrThrow",value:function(){var e=this.getParent();return null===e&&Ae(66,this.__key),e}},{key:"getTopLevelElement",value:function(){for(var e=this;null!==e;){var t=e.getParent();if(Ht(t))return Bi(e)||e===this&&Ki(e)||Ae(194),e;e=t}return null}},{key:"getTopLevelElementOrThrow",value:function(){var e=this.getTopLevelElement();return null===e&&Ae(67,this.__key),e}},{key:"getParents",value:function(){for(var e=[],t=this.getParent();null!==t;)e.push(t),t=t.getParent();return e}},{key:"getParentKeys",value:function(){for(var e=[],t=this.getParent();null!==t;)e.push(t.__key),t=t.getParent();return e}},{key:"getPreviousSibling",value:function(){var e=this.getLatest().__prev;return null===e?null:dt(e)}},{key:"getPreviousSiblings",value:function(){var e=[],t=this.getParent();if(null===t)return e;for(var n=t.getFirstChild();null!==n&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}},{key:"getNextSibling",value:function(){var e=this.getLatest().__next;return null===e?null:dt(e)}},{key:"getNextSiblings",value:function(){for(var e=[],t=this.getNextSibling();null!==t;)e.push(t),t=t.getNextSibling();return e}},{key:"getCommonAncestor",value:function(e){var t=this.getParents(),n=e.getParents();Bi(this)&&t.unshift(this),Bi(e)&&n.unshift(e);var r=t.length,i=n.length;if(0===r||0===i||t[r-1]!==n[i-1])return null;for(var o=new Set(n),a=0;a<r;a++){var l=t[a];if(o.has(l))return l}return null}},{key:"is",value:function(e){return null!=e&&this.__key===e.__key}},{key:"isBefore",value:function(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;for(var t=this.getCommonAncestor(e),n=0,r=0,i=this;;){var o=i.getParentOrThrow();if(o===t){n=i.getIndexWithinParent();break}i=o}for(i=e;;){var a=i.getParentOrThrow();if(a===t){r=i.getIndexWithinParent();break}i=a}return n<r}},{key:"isParentOf",value:function(e){var t=this.__key;if(t===e.__key)return!1;for(var n=e;null!==n;){if(n.__key===t)return!0;n=n.getParent()}return!1}},{key:"getNodesBetween",value:function(e){for(var t=this.isBefore(e),n=[],r=new Set,i=this;null!==i;){var o=i.__key;if(r.has(o)||(r.add(o),n.push(i)),i===e)break;var a=Bi(i)?t?i.getFirstChild():i.getLastChild():null;if(null===a){var l=t?i.getNextSibling():i.getPreviousSibling();if(null===l){var u=i.getParentOrThrow();if(r.has(u.__key)||n.push(u),u===e)break;var s=null,f=u;do{if(null===f&&Ae(68),s=t?f.getNextSibling():f.getPreviousSibling(),null===(f=f.getParent()))break;null!==s||r.has(f.__key)||n.push(f)}while(null===s);i=s}else i=l}else i=a}return t||n.reverse(),n}},{key:"isDirty",value:function(){var e=wi()._dirtyLeaves;return null!==e&&e.has(this.__key)}},{key:"getLatest",value:function(){var e=dt(this.__key);return null===e&&Ae(113),e}},{key:"getWritable",value:function(){Ti();var e=bi(),t=wi(),n=e._nodeMap,r=this.__key,i=this.getLatest(),o=t._cloneNotNeeded,a=li();if(null!==a&&a.setCachedNodes(null),o.has(r))return st(i),i;var l=sn(i);return o.add(r),st(l),n.set(r,l),l}},{key:"getTextContent",value:function(){return""}},{key:"getTextContentSize",value:function(){return this.getTextContent().length}},{key:"createDOM",value:function(e,t){Ae(70)}},{key:"updateDOM",value:function(e,t,n){Ae(71)}},{key:"exportDOM",value:function(e){return{element:this.createDOM(e._config,e)}}},{key:"exportJSON",value:function(){Ae(72)}},{key:"remove",value:function(e){dr(this,!0,e)}},{key:"replace",value:function(e,t){Ti();var n=li();null!==n&&(n=n.clone()),$t(this,e);var r=this.getLatest(),i=this.__key,o=e.__key,a=e.getWritable(),l=this.getParentOrThrow().getWritable(),u=l.__size;ut(a);var s=r.getPreviousSibling(),f=r.getNextSibling(),c=r.__prev,d=r.__next,v=r.__parent;if(dr(r,!1,!0),null===s?l.__first=o:s.getWritable().__next=o,a.__prev=c,null===f?l.__last=o:f.getWritable().__prev=o,a.__next=d,a.__parent=v,l.__size=u,t&&(Bi(this)&&Bi(a)||Ae(139),this.getChildren().forEach((function(e){a.append(e)}))),Vr(n)){mt(n);var h=n.anchor,g=n.focus;h.key===i&&jr(h,a),g.key===i&&jr(g,a)}return ct()===i&&ft(o),a}},{key:"insertAfter",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ti(),$t(this,e);var n=this.getWritable(),r=e.getWritable(),i=r.getParent(),o=li(),a=!1,l=!1;if(null!==i){var u=e.getIndexWithinParent();if(ut(r),Vr(o)){var s=i.__key,f=o.anchor,c=o.focus;a="element"===f.type&&f.key===s&&f.offset===u+1,l="element"===c.type&&c.key===s&&c.offset===u+1}}var d=this.getNextSibling(),v=this.getParentOrThrow().getWritable(),h=r.__key,g=n.__next;if(null===d?v.__last=h:d.getWritable().__prev=h,v.__size++,n.__next=h,r.__next=g,r.__prev=n.__key,r.__parent=n.__parent,t&&Vr(o)){var y=this.getIndexWithinParent();si(o,v,y+1);var _=v.__key;a&&o.anchor.set(_,y+2,"element"),l&&o.focus.set(_,y+2,"element")}return e}},{key:"insertBefore",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ti(),$t(this,e);var n=this.getWritable(),r=e.getWritable(),i=r.__key;ut(r);var o=this.getPreviousSibling(),a=this.getParentOrThrow().getWritable(),l=n.__prev,u=this.getIndexWithinParent();null===o?a.__first=i:o.getWritable().__next=i,a.__size++,n.__prev=i,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent;var s=li();return t&&Vr(s)&&si(s,this.getParentOrThrow(),u),e}},{key:"isParentRequired",value:function(){return!1}},{key:"createParentElementNode",value:function(){return Gi()}},{key:"selectStart",value:function(){return this.selectPrevious()}},{key:"selectEnd",value:function(){return this.selectNext(0,0)}},{key:"selectPrevious",value:function(e,t){Ti();var n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(Bi(n))return n.select();if(!Ar(n)){var i=n.getIndexWithinParent()+1;return r.select(i,i)}return n.select(e,t)}},{key:"selectNext",value:function(e,t){Ti();var n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(Bi(n))return n.select(0,0);if(!Ar(n)){var i=n.getIndexWithinParent();return r.select(i,i)}return n.select(e,t)}},{key:"markDirty",value:function(){this.getWritable()}}],[{key:"getType",value:function(){Ae(64,this.name)}},{key:"clone",value:function(e){Ae(65,this.name)}},{key:"importJSON",value:function(e){Ae(18,this.name)}},{key:"transform",value:function(){return null}}]),e}(),hr=function(e){(0,a.Z)(n,e);var t=y(n);function n(e){return(0,s.Z)(this,n),t.call(this,e)}return(0,f.Z)(n,[{key:"getTextContent",value:function(){return"\n"}},{key:"createDOM",value:function(){return document.createElement("br")}},{key:"updateDOM",value:function(){return!1}},{key:"exportJSON",value:function(){return{type:"linebreak",version:1}}}],[{key:"getType",value:function(){return"linebreak"}},{key:"clone",value:function(e){return new n(e.__key)}},{key:"importDOM",value:function(){return{br:function(e){return function(e){var t=e.parentElement;if(null!==t&&nn(t)){var n=t.firstChild;if(n===e||n.nextSibling===e&&pr(n)){var r=t.lastChild;if(r===e||r.previousSibling===e&&pr(r))return!0}}return!1}(e)||function(e){var t=e.parentElement;if(null!==t&&nn(t)){var n=t.firstChild;if(n===e||n.nextSibling===e&&pr(n))return!1;var r=t.lastChild;if(r===e||r.previousSibling===e&&pr(r))return!0}return!1}(e)?null:{conversion:gr,priority:0}}}}},{key:"importJSON",value:function(e){return yr()}}]),n}(vr);function gr(e){return{node:yr()}}function yr(){return qt(new hr)}function _r(e){return e instanceof hr}function pr(e){return 3===e.nodeType&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function mr(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function kr(e,t){return 1&t?"strong":2&t?"em":"span"}function xr(e,t,n,r,i){var o=r.classList,a=Mt(i,"base");void 0!==a&&o.add.apply(o,(0,c.Z)(a)),a=Mt(i,"underlineStrikethrough");var l=!1,u=8&t&&4&t;for(var s in void 0!==a&&(8&n&&4&n?(l=!0,u||o.add.apply(o,(0,c.Z)(a))):u&&o.remove.apply(o,(0,c.Z)(a))),Pe){var f=Pe[s];if(void 0!==(a=Mt(i,s)))if(n&f){if(l&&("underline"===s||"strikethrough"===s)){t&f&&o.remove.apply(o,(0,c.Z)(a));continue}t&f&&(!u||"underline"!==s)&&"strikethrough"!==s||o.add.apply(o,(0,c.Z)(a))}else t&f&&o.remove.apply(o,(0,c.Z)(a))}}function Sr(e,t,n){var r=t.firstChild,i=n.isComposing(),o=e+(i?Se:"");if(null==r)t.textContent=o;else{var a=r.nodeValue;if(a!==o)if(i||he){var l=function(e,t){for(var n=e.length,r=t.length,i=0,o=0;i<n&&i<r&&e[i]===t[i];)i++;for(;o+i<n&&o+i<r&&e[n-o-1]===t[r-o-1];)o++;return[i,n-i-o,t.slice(i,r-o)]}(a,o),u=(0,d.Z)(l,3),s=u[0],f=u[1],c=u[2];0!==f&&r.deleteData(s,f),r.insertData(s,c)}else r.nodeValue=o}}function Tr(e,t,n,r,i,o){Sr(i,e,t);var a=o.theme.text;void 0!==a&&xr(0,0,r,e,a)}function Cr(e,t){var n=document.createElement(t);return n.appendChild(e),n}var br=function(e){(0,a.Z)(n,e);var t=y(n);function n(e,r){var i;return(0,s.Z)(this,n),(i=t.call(this,r)).__text=e,i.__format=0,i.__style="",i.__mode=0,i.__detail=0,i}return(0,f.Z)(n,[{key:"getFormat",value:function(){return this.getLatest().__format}},{key:"getDetail",value:function(){return this.getLatest().__detail}},{key:"getMode",value:function(){var e=this.getLatest();return Ie[e.__mode]}},{key:"getStyle",value:function(){return this.getLatest().__style}},{key:"isToken",value:function(){return 1===this.getLatest().__mode}},{key:"isComposing",value:function(){return this.__key===ct()}},{key:"isSegmented",value:function(){return 2===this.getLatest().__mode}},{key:"isDirectionless",value:function(){return!!(1&this.getLatest().__detail)}},{key:"isUnmergeable",value:function(){return!!(2&this.getLatest().__detail)}},{key:"hasFormat",value:function(e){var t=Pe[e];return!!(this.getFormat()&t)}},{key:"isSimpleText",value:function(){return"text"===this.__type&&0===this.__mode}},{key:"getTextContent",value:function(){return this.getLatest().__text}},{key:"getFormatFlags",value:function(e,t){return ot(this.getLatest().__format,e,t)}},{key:"canHaveFormat",value:function(){return!0}},{key:"createDOM",value:function(e,t){var n=this.__format,r=mr(0,n),i=kr(0,n),o=null===r?i:r,a=document.createElement(o),l=a;this.hasFormat("code")&&a.setAttribute("spellcheck","false"),null!==r&&(l=document.createElement(i),a.appendChild(l)),Tr(l,this,0,n,this.__text,e);var u=this.__style;return""!==u&&(a.style.cssText=u),a}},{key:"updateDOM",value:function(e,t,n){var r=this.__text,i=e.__format,o=this.__format,a=mr(0,i),l=mr(0,o),u=kr(0,i),s=kr(0,o);if((null===a?u:a)!==(null===l?s:l))return!0;if(a===l&&u!==s){var f=t.firstChild;null==f&&Ae(48);var c=document.createElement(s);return Tr(c,this,0,o,r,n),t.replaceChild(c,f),!1}var d=t;null!==l&&null!==a&&(null==(d=t.firstChild)&&Ae(49)),Sr(r,d,this);var v=n.theme.text;void 0!==v&&i!==o&&xr(0,i,o,d,v);var h=e.__style,g=this.__style;return h!==g&&(t.style.cssText=g),!1}},{key:"exportDOM",value:function(e){var t=(0,o.Z)((0,u.Z)(n.prototype),"exportDOM",this).call(this,e).element;return null!==t&&en(t)||Ae(132),t.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(t=Cr(t,"b")),this.hasFormat("italic")&&(t=Cr(t,"i")),this.hasFormat("strikethrough")&&(t=Cr(t,"s")),this.hasFormat("underline")&&(t=Cr(t,"u")),{element:t}}},{key:"exportJSON",value:function(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}},{key:"selectionTransform",value:function(e,t){}},{key:"setFormat",value:function(e){var t=this.getWritable();return t.__format="string"==typeof e?Pe[e]:e,t}},{key:"setDetail",value:function(e){var t=this.getWritable();return t.__detail="string"==typeof e?Oe[e]:e,t}},{key:"setStyle",value:function(e){var t=this.getWritable();return t.__style=e,t}},{key:"toggleFormat",value:function(e){var t=ot(this.getFormat(),e,null);return this.setFormat(t)}},{key:"toggleDirectionless",value:function(){var e=this.getWritable();return e.__detail^=1,e}},{key:"toggleUnmergeable",value:function(){var e=this.getWritable();return e.__detail^=2,e}},{key:"setMode",value:function(e){var t=Fe[e];if(this.__mode===t)return this;var n=this.getWritable();return n.__mode=t,n}},{key:"setTextContent",value:function(e){if(this.__text===e)return this;var t=this.getWritable();return t.__text=e,t}},{key:"select",value:function(e,t){Ti();var n=e,r=t,i=li(),o=this.getTextContent(),a=this.__key;if("string"==typeof o){var l=o.length;void 0===n&&(n=l),void 0===r&&(r=l)}else n=0,r=0;if(!Vr(i))return ri(a,n,a,r,"text","text");var u=ct();return u!==i.anchor.key&&u!==i.focus.key||ft(a),i.setTextNodeRange(this,n,this,r),i}},{key:"selectStart",value:function(){return this.select(0,0)}},{key:"selectEnd",value:function(){var e=this.getTextContentSize();return this.select(e,e)}},{key:"spliceText",value:function(e,t,n,r){var i=this.getWritable(),o=i.__text,a=n.length,l=e;l<0&&((l=a+l)<0&&(l=0));var u=li();if(r&&Vr(u)){var s=e+a;u.setTextNodeRange(i,s,i,s)}var f=o.slice(0,l)+n+o.slice(l+t);return i.__text=f,i}},{key:"canInsertTextBefore",value:function(){return!0}},{key:"canInsertTextAfter",value:function(){return!0}},{key:"splitText",value:function(){Ti();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=this.getLatest(),i=r.getTextContent(),o=r.__key,a=ct(),l=new Set(t),u=[],s=i.length,f="",c=0;c<s;c++)""!==f&&l.has(c)&&(u.push(f),f=""),f+=i[c];""!==f&&u.push(f);var d=u.length;if(0===d)return[];if(u[0]===i)return[r];var v,h=u[0],g=r.getParentOrThrow(),y=r.getFormat(),_=r.getStyle(),p=r.__detail,m=!1;r.isSegmented()?((v=Ir(h)).__format=y,v.__style=_,v.__detail=p,m=!0):(v=r.getWritable()).__text=h;for(var k=li(),x=[v],S=h.length,T=1;T<d;T++){var C=u[T],b=C.length,w=Ir(C).getWritable();w.__format=y,w.__style=_,w.__detail=p;var N=w.__key,E=S+b;if(Vr(k)){var P=k.anchor,O=k.focus;P.key===o&&"text"===P.type&&P.offset>S&&P.offset<=E&&(P.key=N,P.offset-=S,k.dirty=!0),O.key===o&&"text"===O.type&&O.offset>S&&O.offset<=E&&(O.key=N,O.offset-=S,k.dirty=!0)}a===o&&ft(N),S=E,x.push(w)}!function(e){var t=e.getPreviousSibling(),n=e.getNextSibling();null!==t&&st(t),null!==n&&st(n)}(this);var D=g.getWritable(),L=this.getIndexWithinParent();return m?(D.splice(L,0,x),this.remove()):D.splice(L,1,x),Vr(k)&&si(k,g,L,d-1),x}},{key:"mergeWithSibling",value:function(e){var t=e===this.getPreviousSibling();t||e===this.getNextSibling()||Ae(50);var n=this.__key,r=e.__key,i=this.__text,o=i.length;ct()===r&&ft(n);var a=li();if(Vr(a)){var l=a.anchor,u=a.focus;null!==l&&l.key===r&&(di(l,t,n,e,o),a.dirty=!0),null!==u&&u.key===r&&(di(u,t,n,e,o),a.dirty=!0)}var s=e.__text,f=t?s+i:i+s;this.setTextContent(f);var c=this.getWritable();return e.remove(),c}},{key:"isTextEntity",value:function(){return!1}}],[{key:"getType",value:function(){return"text"}},{key:"clone",value:function(e){return new n(e.__text,e.__key)}},{key:"importDOM",value:function(){return{"#text":function(){return{conversion:Or,priority:0}},b:function(){return{conversion:Nr,priority:0}},code:function(){return{conversion:Fr,priority:0}},em:function(){return{conversion:Fr,priority:0}},i:function(){return{conversion:Fr,priority:0}},s:function(){return{conversion:Fr,priority:0}},span:function(){return{conversion:wr,priority:0}},strong:function(){return{conversion:Fr,priority:0}},sub:function(){return{conversion:Fr,priority:0}},sup:function(){return{conversion:Fr,priority:0}},u:function(){return{conversion:Fr,priority:0}}}}},{key:"importJSON",value:function(e){var t=Ir(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}}]),n}(vr);function wr(e){return{forChild:Mr(e.style),node:null}}function Nr(e){var t=e,n="normal"===t.style.fontWeight;return{forChild:Mr(t.style,n?void 0:"bold"),node:null}}var Er=new WeakMap;function Pr(e){return"PRE"===e.nodeName||1===e.nodeType&&void 0!==e.style&&void 0!==e.style.whiteSpace&&e.style.whiteSpace.startsWith("pre")}function Or(e){var t=e;null===e.parentElement&&Ae(129);var n=t.textContent||"";if(null!==function(e){for(var t,n=e.parentNode,r=[e];null!==n&&void 0===(t=Er.get(n))&&!Pr(n);)r.push(n),n=n.parentNode;for(var i=void 0===t?n:t,o=0;o<r.length;o++)Er.set(r[o],i);return i}(t)){for(var r=n.split(/(\r?\n|\t)/),i=[],o=r.length,a=0;a<o;a++){var l=r[a];"\n"===l||"\r\n"===l?i.push(yr()):"\t"===l?i.push(zr()):""!==l&&i.push(Ir(l))}return{node:i}}if(""===(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," ")))return{node:null};if(" "===n[0]){for(var u=t,s=!0;null!==u&&null!==(u=Dr(u,!1));){var f=u.textContent||"";if(f.length>0){/[ \t\n]$/.test(f)&&(n=n.slice(1)),s=!1;break}}s&&(n=n.slice(1))}if(" "===n[n.length-1]){for(var c=t,d=!0;null!==c&&null!==(c=Dr(c,!0));)if((c.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){d=!1;break}d&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:Ir(n)}}function Dr(e,t){for(var n=e;;){for(var r=void 0;null===(r=t?n.nextSibling:n.previousSibling);){var i=n.parentElement;if(null===i)return null;n=i}if(1===(n=r).nodeType){var o=n.style.display;if(""===o&&!tn(n)||""!==o&&!o.startsWith("inline"))return null}for(var a=n;null!==(a=t?n.firstChild:n.lastChild);)n=a;if(3===n.nodeType)return n;if("BR"===n.nodeName)return null}}var Lr={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Fr(e){var t=Lr[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:Mr(e.style,t),node:null}}function Ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return qt(new br(e))}function Ar(e){return e instanceof br}function Mr(e,t){var n=e.fontWeight,r=e.textDecoration.split(" "),i="700"===n||"bold"===n,o=r.includes("line-through"),a="italic"===e.fontStyle,l=r.includes("underline"),u=e.verticalAlign;return function(e){return Ar(e)?(i&&!e.hasFormat("bold")&&e.toggleFormat("bold"),o&&!e.hasFormat("strikethrough")&&e.toggleFormat("strikethrough"),a&&!e.hasFormat("italic")&&e.toggleFormat("italic"),l&&!e.hasFormat("underline")&&e.toggleFormat("underline"),"sub"!==u||e.hasFormat("subscript")||e.toggleFormat("subscript"),"super"!==u||e.hasFormat("superscript")||e.toggleFormat("superscript"),t&&!e.hasFormat(t)&&e.toggleFormat(t),e):e}}var Zr=function(e){(0,a.Z)(n,e);var t=y(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,"\t",e)).__detail=2,r}return(0,f.Z)(n,[{key:"exportJSON",value:function(){return g(g({},(0,o.Z)((0,u.Z)(n.prototype),"exportJSON",this).call(this)),{},{type:"tab",version:1})}},{key:"setTextContent",value:function(e){Ae(126)}},{key:"setDetail",value:function(e){Ae(127)}},{key:"setMode",value:function(e){Ae(128)}},{key:"canInsertTextBefore",value:function(){return!1}},{key:"canInsertTextAfter",value:function(){return!1}}],[{key:"getType",value:function(){return"tab"}},{key:"clone",value:function(e){var t=new n(e.__key);return t.__text=e.__text,t.__format=e.__format,t.__style=e.__style,t}},{key:"importDOM",value:function(){return null}},{key:"importJSON",value:function(e){var t=zr();return t.setFormat(e.format),t.setStyle(e.style),t}}]),n}(br);function zr(){return qt(new Zr)}function Br(e){return e instanceof Zr}var Wr=function(){function e(t,n,r){(0,s.Z)(this,e),this._selection=null,this.key=t,this.offset=n,this.type=r}return(0,f.Z)(e,[{key:"is",value:function(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}},{key:"isBefore",value:function(e){var t=this.getNode(),n=e.getNode(),r=this.offset,i=e.offset;if(Bi(t)){var o=t.getDescendantByIndex(r);t=null!=o?o:t}if(Bi(n)){var a=n.getDescendantByIndex(i);n=null!=a?a:n}return t===n?r<i:t.isBefore(n)}},{key:"getNode",value:function(){var e=dt(this.key);return null===e&&Ae(20),e}},{key:"set",value:function(e,t,n){var r=this._selection,i=this.key;this.key=e,this.offset=t,this.type=n,Si()||(ct()===i&&ft(e),null!==r&&(r.setCachedNodes(null),r.dirty=!0))}}]),e}();function Rr(e,t,n){return new Wr(e,t,n)}function Kr(e,t){var n=t.__key,r=e.offset,i="element";if(Ar(t)){i="text";var o=t.getTextContentSize();r>o&&(r=o)}else if(!Bi(t)){var a=t.getNextSibling();if(Ar(a))n=a.__key,r=0,i="text";else{var l=t.getParent();l&&(n=l.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,i)}function jr(e,t){if(Bi(t)){var n=t.getLastDescendant();Bi(n)||Ar(n)?Kr(e,n):Kr(e,t)}else Kr(e,t)}function Jr(e,t,n,r){e.key=t,e.offset=n,e.type=r}var Ur=function(){function e(t){(0,s.Z)(this,e),this._cachedNodes=null,this._nodes=t,this.dirty=!1}return(0,f.Z)(e,[{key:"getCachedNodes",value:function(){return this._cachedNodes}},{key:"setCachedNodes",value:function(e){this._cachedNodes=e}},{key:"is",value:function(e){if(!qr(e))return!1;var t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((function(e){return n.has(e)}))}},{key:"isCollapsed",value:function(){return!1}},{key:"isBackward",value:function(){return!1}},{key:"getStartEndPoints",value:function(){return null}},{key:"add",value:function(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}},{key:"delete",value:function(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}},{key:"clear",value:function(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}},{key:"has",value:function(e){return this._nodes.has(e)}},{key:"clone",value:function(){return new e(new Set(this._nodes))}},{key:"extract",value:function(){return this.getNodes()}},{key:"insertRawText",value:function(e){}},{key:"insertText",value:function(){}},{key:"insertNodes",value:function(e){var t,n=this.getNodes(),r=n.length,i=n[r-1];if(Ar(i))t=i.select();else{var o=i.getIndexWithinParent()+1;t=i.getParentOrThrow().select(o,o)}t.insertNodes(e);for(var a=0;a<r;a++)n[a].remove()}},{key:"getNodes",value:function(){var e=this._cachedNodes;if(null!==e)return e;var t,n=[],r=_(this._nodes);try{for(r.s();!(t=r.n()).done;){var i=dt(t.value);null!==i&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}return Si()||(this._cachedNodes=n),n}},{key:"getTextContent",value:function(){for(var e=this.getNodes(),t="",n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}]),e}();function Vr(e){return e instanceof Hr}var Hr=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.anchor=t,this.focus=n,t._selection=this,n._selection=this,this._cachedNodes=null,this.format=r,this.style=i,this.dirty=!1}return(0,f.Z)(e,[{key:"getCachedNodes",value:function(){return this._cachedNodes}},{key:"setCachedNodes",value:function(e){this._cachedNodes=e}},{key:"is",value:function(e){return!!Vr(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}},{key:"isCollapsed",value:function(){return this.anchor.is(this.focus)}},{key:"getNodes",value:function(){var e=this._cachedNodes;if(null!==e)return e;var t,n=this.anchor,r=this.focus,i=n.isBefore(r),o=i?n:r,a=i?r:n,l=o.getNode(),u=a.getNode(),s=o.offset,f=a.offset;if(Bi(l)){var c=l.getDescendantByIndex(s);l=null!=c?c:l}if(Bi(u)){var d=u.getDescendantByIndex(f);null!==d&&d!==l&&u.getChildAtIndex(f)===d&&(d=d.getPreviousSibling()),u=null!=d?d:u}return t=l.is(u)?Bi(l)&&l.getChildrenSize()>0?[]:[l]:l.getNodesBetween(u),Si()||(this._cachedNodes=t),t}},{key:"setTextNodeRange",value:function(e,t,n,r){Jr(this.anchor,e.__key,t,"text"),Jr(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}},{key:"getTextContent",value:function(){var e=this.getNodes();if(0===e.length)return"";for(var t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,o=r.isBefore(i),a=Xr(this),l=(0,d.Z)(a,2),u=l[0],s=l[1],f="",c=!0,v=0;v<e.length;v++){var h=e[v];if(Bi(h)&&!h.isInline())c||(f+="\n"),c=!h.isEmpty();else if(c=!1,Ar(h)){var g=h.getTextContent();h===t?h===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(g=u<s?g.slice(u,s):g.slice(s,u)):g=o?g.slice(u):g.slice(s):h===n&&(g=o?g.slice(0,s):g.slice(0,u)),f+=g}else!Ki(h)&&!_r(h)||h===n&&this.isCollapsed()||(f+=h.getTextContent())}return f}},{key:"applyDOMRange",value:function(e){var t=wi(),n=t.getEditorState()._selection,r=ti(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n);if(null!==r){var i=(0,d.Z)(r,2),o=i[0],a=i[1];Jr(this.anchor,o.key,o.offset,o.type),Jr(this.focus,a.key,a.offset,a.type),this._cachedNodes=null}}},{key:"clone",value:function(){var t=this.anchor,n=this.focus;return new e(Rr(t.key,t.offset,t.type),Rr(n.key,n.offset,n.type),this.format,this.style)}},{key:"toggleFormat",value:function(e){this.format=ot(this.format,e,null),this.dirty=!0}},{key:"setStyle",value:function(e){this.style=e,this.dirty=!0}},{key:"hasFormat",value:function(e){var t=Pe[e];return!!(this.format&t)}},{key:"insertRawText",value:function(e){for(var t=e.split(/(\r?\n|\t)/),n=[],r=t.length,i=0;i<r;i++){var o=t[i];"\n"===o||"\r\n"===o?n.push(yr()):"\t"===o?n.push(zr()):n.push(Ir(o))}this.insertNodes(n)}},{key:"insertText",value:function(e){var t=this.anchor,n=this.focus,r=this.format,i=this.style,o=t,a=n;!this.isCollapsed()&&n.isBefore(t)&&(o=n,a=t),"element"===o.type&&function(e,t,n,r){var i=e.getNode(),o=i.getChildAtIndex(e.offset),a=Ir(),l=Ji(i)?Gi().append(a):a;a.setFormat(n),a.setStyle(r),null===o?i.append(l):o.insertBefore(l),e.is(t)&&t.set(a.__key,0,"text"),e.set(a.__key,0,"text")}(o,a,r,i);var l=o.offset,u=a.offset,s=this.getNodes(),f=s.length,v=s[0];Ar(v)||Ae(26);var h=v.getTextContent().length,g=v.getParentOrThrow(),y=s[f-1];if(1===f&&"element"===a.type&&(u=h,a.set(o.key,u,"text")),this.isCollapsed()&&l===h&&(v.isSegmented()||v.isToken()||!v.canInsertTextAfter()||!g.canInsertTextAfter()&&null===v.getNextSibling())){var _=v.getNextSibling();if(Ar(_)&&_.canInsertTextBefore()&&!nt(_)||((_=Ir()).setFormat(r),_.setStyle(i),g.canInsertTextAfter()?v.insertAfter(_):g.insertAfter(_)),_.select(0,0),v=_,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===l&&(v.isSegmented()||v.isToken()||!v.canInsertTextBefore()||!g.canInsertTextBefore()&&null===v.getPreviousSibling())){var p=v.getPreviousSibling();if(Ar(p)&&!nt(p)||((p=Ir()).setFormat(r),g.canInsertTextBefore()?v.insertBefore(p):g.insertBefore(p)),p.select(),v=p,""!==e)return void this.insertText(e)}else if(v.isSegmented()&&l!==h){var m=Ir(v.getTextContent());m.setFormat(r),v.replace(m),v=m}else if(!this.isCollapsed()&&""!==e){var k=y.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||Bi(k)&&(!k.canInsertTextBefore()||!k.canInsertTextAfter()))return this.insertText(""),ei(this.anchor,this.focus,null),void this.insertText(e)}if(1===f){if(v.isToken()){var x=Ir(e);return x.select(),void v.replace(x)}var S=v.getFormat(),T=v.getStyle();if(l!==u||S===r&&T===i){if(Br(v)){var C=Ir(e);return C.setFormat(r),C.setStyle(i),C.select(),void v.replace(C)}}else{if(""!==v.getTextContent()){var b=Ir(e);if(b.setFormat(r),b.setStyle(i),b.select(),0===l)v.insertBefore(b,!1);else{var w=v.splitText(l);(0,d.Z)(w,1)[0].insertAfter(b,!1)}return void(b.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}v.setFormat(r),v.setStyle(i)}var N=u-l;""===(v=v.spliceText(l,N,e,!0)).getTextContent()?v.remove():"text"===this.anchor.type&&(v.isComposing()?this.anchor.offset-=e.length:(this.format=S,this.style=T))}else{var E=new Set([].concat((0,c.Z)(v.getParentKeys()),(0,c.Z)(y.getParentKeys()))),P=Bi(v)?v:v.getParentOrThrow(),O=Bi(y)?y:y.getParentOrThrow(),D=y;if(!P.is(O)&&O.isInline())do{D=O,O=O.getParentOrThrow()}while(O.isInline());if("text"===a.type&&(0!==u||""===y.getTextContent())||"element"===a.type&&y.getIndexWithinParent()<u)if(Ar(y)&&!y.isToken()&&u!==y.getTextContentSize()){if(y.isSegmented()){var L=Ir(y.getTextContent());y.replace(L),y=L}Ji(a.getNode())||"text"!==a.type||(y=y.spliceText(0,u,"")),E.add(y.__key)}else{var F=y.getParentOrThrow();F.canBeEmpty()||1!==F.getChildrenSize()?y.remove():F.remove()}else E.add(y.__key);for(var I=O.getChildren(),A=new Set(s),M=P.is(O),Z=P.isInline()&&null===v.getNextSibling()?P:v,z=I.length-1;z>=0;z--){var B=I[z];if(B.is(v)||Bi(B)&&B.isParentOf(v))break;B.isAttached()&&(!A.has(B)||B.is(D)?M||Z.insertAfter(B,!1):B.remove())}if(!M)for(var W=O,R=null;null!==W;){var K=W.getChildren(),j=K.length;(0===j||K[j-1].is(R))&&(E.delete(W.__key),R=W),W=W.getParent()}if(v.isToken())if(l===h)v.select();else{var J=Ir(e);J.select(),v.replace(J)}else""===(v=v.spliceText(l,h-l,e,!0)).getTextContent()?v.remove():v.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(var U=1;U<f;U++){var V=s[U],H=V.__key;E.has(H)||V.remove()}}}},{key:"removeText",value:function(){this.insertText("")}},{key:"formatText",value:function(e){var t,n;if(this.isCollapsed())return this.toggleFormat(e),void ft(null);var r,i=[],o=_(this.getNodes());try{for(o.s();!(r=o.n()).done;){var a=r.value;Ar(a)&&i.push(a)}}catch(E){o.e(E)}finally{o.f()}var l=i.length;if(0===l)return this.toggleFormat(e),void ft(null);var u=this.anchor,s=this.focus,f=this.isBackward(),c=f?s:u,v=f?u:s,h=0,g=i[0],y="element"===c.type?0:c.offset;if("text"===c.type&&y===g.getTextContentSize()&&(h=1,g=i[1],y=0),null!=g){var p=g.getFormatFlags(e,null),m=l-1,k=i[m],x="text"===v.type?v.offset:k.getTextContentSize();if(g.is(k)){if(y===x)return;if(nt(g)||0===y&&x===g.getTextContentSize())g.setFormat(p);else{var S=g.splitText(y,x),T=0===y?S[0]:S[1];T.setFormat(p),"text"===c.type&&c.set(T.__key,0,"text"),"text"===v.type&&v.set(T.__key,x-y,"text")}this.format=p}else{0===y||nt(g)||(t=g.splitText(y),g=(0,d.Z)(t,2)[1],y=0),g.setFormat(p);var C=k.getFormatFlags(e,p);x>0&&(x===k.getTextContentSize()||nt(k)||(n=k.splitText(x),k=(0,d.Z)(n,1)[0]),k.setFormat(C));for(var b=h+1;b<m;b++){var w=i[b],N=w.getFormatFlags(e,C);w.setFormat(N)}"text"===c.type&&c.set(g.__key,y,"text"),"text"===v.type&&v.set(k.__key,x,"text"),this.format=p|C}}}},{key:"insertNodes",value:function(e){if(0!==e.length){if("root"===this.anchor.key){this.insertParagraph();var t=li();return Vr(t)||Ae(134),t.insertNodes(e)}var n=on((this.isBackward()?this.focus:this.anchor).getNode(),rn),r=e[e.length-1];if("__language"in n&&Bi(n))if("__language"in e[0])this.insertText(e[0].getTextContent());else{var i=hi(this);n.splice(i,0,e),r.selectEnd()}else{if(!e.some((function(e){return(Bi(e)||Ki(e))&&!e.isInline()}))){Bi(n)||Ae(135);var o=hi(this);return n.splice(o,0,e),void r.selectEnd()}var a,l=function(e){for(var t=Gi(),n=null,r=0;r<e.length;r++){var i=e[r],o=_r(i);if(o||Ki(i)&&i.isInline()||Bi(i)&&i.isInline()||Ar(i)||i.isParentRequired()){if(null===n&&(n=i.createParentElementNode(),t.append(n),o))continue;null!==n&&n.append(i)}else t.append(i),n=null}return t}(e),u=l.getLastDescendant(),s=l.getChildren(),f=function(e){return"__value"in e&&"__checked"in e},d=Bi(n)&&n.isEmpty()?null:this.insertParagraph(),v=s[s.length-1],h=s[0];Bi(a=h)&&rn(a)&&!a.isEmpty()&&Bi(n)&&(!n.isEmpty()||f(n))&&(Bi(n)||Ae(135),n.append.apply(n,(0,c.Z)(h.getChildren())),h=s[1]),h&&function(e,t,n){for(var r=t.getParentOrThrow().getLastChild(),i=t,o=[t];i!==r;)i.getNextSibling()||Ae(140),i=i.getNextSibling(),o.push(i);for(var a=e,l=0,u=o;l<u.length;l++){var s=u[l];a=a.insertAfter(s)}}(n,h);var g=on(u,rn);d&&Bi(g)&&(f(d)||rn(v))&&(g.append.apply(g,(0,c.Z)(d.getChildren())),d.remove()),Bi(n)&&n.isEmpty()&&n.remove(),u.selectEnd();var y=Bi(n)?n.getLastChild():null;_r(y)&&g!==n&&y.remove()}}}},{key:"insertParagraph",value:function(){if("root"===this.anchor.key){var e=Gi();return _t().splice(this.anchor.offset,0,[e]),e.select(),e}var t=hi(this),n=on(this.anchor.getNode(),rn);Bi(n)||Ae(136);var r=n.getChildAtIndex(t),i=r?[r].concat((0,c.Z)(r.getNextSiblings())):[],o=n.insertNewAfter(this,!1);return o?(o.append.apply(o,(0,c.Z)(i)),o.selectStart(),o):null}},{key:"insertLineBreak",value:function(e){var t=yr();if(this.insertNodes([t]),e){var n=t.getParentOrThrow(),r=t.getIndexWithinParent();n.select(r,r)}}},{key:"extract",value:function(){var e=this.getNodes(),t=e.length,n=t-1,r=this.anchor,i=this.focus,o=e[0],a=e[n],l=Xr(this),u=(0,d.Z)(l,2),s=u[0],f=u[1];if(0===t)return[];if(1===t){if(Ar(o)&&!this.isCollapsed()){var c=s>f?f:s,v=s>f?s:f,h=o.splitText(c,v),g=0===c?h[0]:h[1];return null!=g?[g]:[]}return[o]}var y=r.isBefore(i);if(Ar(o)){var _,p=y?s:f;p===o.getTextContentSize()?e.shift():0!==p&&(_=o.splitText(p),o=(0,d.Z)(_,2)[1],e[0]=o)}if(Ar(a)){var m,k=a.getTextContent().length,x=y?f:s;0===x?e.pop():x!==k&&(m=a.splitText(x),a=(0,d.Z)(m,1)[0],e[n]=a)}return e}},{key:"modify",value:function(e,t,n){var r=this.focus,i=this.anchor,o="move"===e,a=Bt(r,t);if(Ki(a)&&!a.isIsolated()){if(o&&a.isKeyboardSelectable()){var l=oi();return l.add(a.__key),void mt(l)}var u=t?a.getPreviousSibling():a.getNextSibling();if(Ar(u)){var s=u.__key,f=t?u.getTextContent().length:0;return r.set(s,f,"text"),void(o&&i.set(s,f,"text"))}var c,d,v=a.getParentOrThrow();return Bi(u)?(d=u.__key,c=t?u.getChildrenSize():0):(c=a.getIndexWithinParent(),d=v.__key,t||c++),r.set(d,c,"element"),void(o&&i.set(d,c,"element"))}var h=wi(),g=Qt(h._window);if(g){var y=h._blockCursorElement,_=h._rootElement;if(null===_||null===y||!Bi(a)||a.isInline()||a.canBeEmpty()||Gt(y,h,_),function(e,t,n,r){e.modify(t,n,r)}(g,e,t?"backward":"forward",n),g.rangeCount>0){var p=g.getRangeAt(0),m=this.anchor.getNode(),k=Ji(m)?m:function(e){for(var t=e.getParentOrThrow();null!==t;){if(Ht(t))return t;t=t.getParentOrThrow()}return t}(m);if(this.applyDOMRange(p),this.dirty=!0,!o){for(var x=this.getNodes(),S=[],T=!1,C=0;C<x.length;C++){var b=x[C];Ut(b,k)?S.push(b):T=!0}if(T&&S.length>0)if(t){var w=S[0];Bi(w)?w.selectStart():w.getParentOrThrow().selectStart()}else{var N=S[S.length-1];Bi(N)?N.selectEnd():N.getParentOrThrow().selectEnd()}g.anchorNode===p.startContainer&&g.anchorOffset===p.startOffset||function(e){var t=e.focus,n=e.anchor,r=n.key,i=n.offset,o=n.type;Jr(n,t.key,t.offset,t.type),Jr(t,r,i,o),e._cachedNodes=null}(this)}}}}},{key:"forwardDeletion",value:function(e,t,n){if(!n&&("element"===e.type&&Bi(t)&&e.offset===t.getChildrenSize()||"text"===e.type&&e.offset===t.getTextContentSize())){var r=t.getParent(),i=t.getNextSibling()||(null===r?null:r.getNextSibling());if(Bi(i)&&i.isShadowRoot())return!0}return!1}},{key:"deleteCharacter",value:function(e){var t=this.isCollapsed();if(this.isCollapsed()){var n=this.anchor,r=n.getNode();if(this.forwardDeletion(n,r,e))return;var i=this.focus,o=Bt(i,e);if(Ki(o)&&!o.isIsolated()){if(o.isKeyboardSelectable()&&Bi(r)&&0===r.getChildrenSize()){r.remove();var a=oi();a.add(o.__key),mt(a)}else o.remove(),wi().dispatchCommand(k,void 0);return}if(!e&&Bi(o)&&Bi(r)&&r.isEmpty())return r.remove(),void o.selectStart();if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===n.offset&&("element"===n.type?n.getNode():n.getNode().getParentOrThrow()).collapseAtStart(this))return}else{var l="text"===i.type?i.getNode():null;if(r="text"===n.type?n.getNode():null,null!==l&&l.isSegmented()){var u=i.offset,s=l.getTextContentSize();if(l.is(r)||e&&u!==s||!e&&0!==u)return void Gr(l,e,u)}else if(null!==r&&r.isSegmented()){var f=n.offset,c=r.getTextContentSize();if(r.is(l)||e&&0!==f||!e&&f!==c)return void Gr(r,e,f)}!function(e,t){var n=e.anchor,r=e.focus,i=n.getNode();if(i===r.getNode()&&"text"===n.type&&"text"===r.type){var o=n.offset,a=r.offset,l=o<a,u=l?o:a,s=l?a:o,f=s-1;u!==f&&(St(i.getTextContent().slice(u,s))||(t?r.offset=f:n.offset=f))}}(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){var d=this.anchor.getNode();d.isEmpty()&&Ji(d.getParent())&&0===d.getIndexWithinParent()&&d.collapseAtStart(this)}}},{key:"deleteLine",value:function(e){if(this.isCollapsed()){var t="element"===this.anchor.type;if(t&&this.insertText(" "),this.modify("extend",e,"lineboundary"),0===(e?this.focus:this.anchor).offset&&this.modify("extend",e,"character"),t){var n=e?this.anchor:this.focus;n.set(n.key,n.offset+1,n.type)}}this.removeText()}},{key:"deleteWord",value:function(e){if(this.isCollapsed()){var t=this.anchor,n=t.getNode();if(this.forwardDeletion(t,n,e))return;this.modify("extend",e,"word")}this.removeText()}},{key:"isBackward",value:function(){return this.focus.isBefore(this.anchor)}},{key:"getStartEndPoints",value:function(){return[this.anchor,this.focus]}}]),e}();function qr(e){return e instanceof Ur}function $r(e){var t=e.offset;if("text"===e.type)return t;var n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function Xr(e){var t=e.getStartEndPoints();if(null===t)return[0,0];var n=(0,d.Z)(t,2),r=n[0],i=n[1];return"element"===r.type&&"element"===i.type&&r.key===i.key&&r.offset===i.offset?[0,0]:[$r(r),$r(i)]}function Gr(e,t,n){for(var r=e,i=r.getTextContent().split(/(?=\s)/g),o=i.length,a=0,l=0,u=0;u<o;u++){var s=u===o-1;if(l=a,a+=i[u].length,t&&a===n||a>n||s){i.splice(u,1),s&&(l=void 0);break}}var f=i.join("").trim();""===f?r.remove():(r.setTextContent(f),r.select(l,l))}function Qr(e,t,n,r){var i,o=t;if(1===e.nodeType){var a=!1,l=e.childNodes,u=l.length,s=r._blockCursorElement;o===u&&(a=!0,o=u-1);var f=l[o],c=!1;if(f===s)f=l[o+1],c=!0;else if(null!==s){var d=s.parentNode;e===d&&t>Array.prototype.indexOf.call(d.children,s)&&o--}if(Ar(i=kt(f)))o=xt(i,a);else{var v=kt(e);if(null===v)return null;if(Bi(v)){o=Math.min(v.getChildrenSize(),o);var h=v.getChildAtIndex(o);if(Bi(h)&&function(e,t,n){var r=e.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(h,0,n)){var g=a?h.getLastDescendant():h.getFirstDescendant();null===g?v=h:v=Bi(h=g)?h:h.getParentOrThrow(),o=0}Ar(h)?(i=h,v=null,o=xt(h,a)):h!==v&&a&&!c&&o++}else{var y=v.getIndexWithinParent();o=0===t&&Ki(v)&&kt(e)===v?y:y+1,v=v.getParentOrThrow()}if(Bi(v))return Rr(v.__key,o,"element")}}else i=kt(e);return Ar(i)?Rr(i.__key,o,"text"):null}function Yr(e,t,n){var r=e.offset,i=e.getNode();if(0===r){var o=i.getPreviousSibling(),a=i.getParent();if(t){if((n||!t)&&null===o&&Bi(a)&&a.isInline()){var l=a.getPreviousSibling();Ar(l)&&(e.key=l.__key,e.offset=l.getTextContent().length)}}else Bi(o)&&!n&&o.isInline()?(e.key=o.__key,e.offset=o.getChildrenSize(),e.type="element"):Ar(o)&&(e.key=o.__key,e.offset=o.getTextContent().length)}else if(r===i.getTextContent().length){var u=i.getNextSibling(),s=i.getParent();if(t&&Bi(u)&&u.isInline())e.key=u.__key,e.offset=0,e.type="element";else if((n||t)&&null===u&&Bi(s)&&s.isInline()&&!s.canInsertTextAfter()){var f=s.getNextSibling();Ar(f)&&(e.key=f.__key,e.offset=0)}}}function ei(e,t,n){if("text"===e.type&&"text"===t.type){var r=e.isBefore(t),i=e.is(t);Yr(e,r,i),Yr(t,!r,i),i&&(t.key=e.key,t.offset=e.offset,t.type=e.type);var o=wi();if(o.isComposing()&&o._compositionKey!==e.key&&Vr(n)){var a=n.anchor,l=n.focus;Jr(e,a.key,a.offset,a.type),Jr(t,l.key,l.offset,l.type)}}}function ti(e,t,n,r,i,o){if(null===e||null===n||!et(i,e,n))return null;var a=Qr(e,t,Vr(o)?o.anchor:null,i);if(null===a)return null;var l=Qr(n,r,Vr(o)?o.focus:null,i);if(null===l)return null;if("element"===a.type&&"element"===l.type){var u=kt(e),s=kt(n);if(Ki(u)&&Ki(s))return null}return ei(a,l,o),[a,l]}function ni(e){return Bi(e)&&!e.isInline()}function ri(e,t,n,r,i,o){var a=bi(),l=new Hr(Rr(e,t,i),Rr(n,r,o),0,"");return l.dirty=!0,a._selection=l,l}function ii(){var e=Rr("root",0,"element"),t=Rr("root",0,"element");return new Hr(e,t,0,"")}function oi(){return new Ur(new Set)}function ai(e,t,n,r){var i=n._window;if(null===i)return null;var o,a,l,u,s=r||i.event,f=s?s.type:void 0,c="selectionchange"===f,v=!Ze&&(c||"beforeinput"===f||"compositionstart"===f||"compositionend"===f||"click"===f&&s&&3===s.detail||"drop"===f||void 0===f);if(Vr(e)&&!v)return e.clone();if(null===t)return null;if(o=t.anchorNode,a=t.focusNode,l=t.anchorOffset,u=t.focusOffset,c&&Vr(e)&&!et(n,o,a))return e.clone();var h=ti(o,l,a,u,n,e);if(null===h)return null;var g=(0,d.Z)(h,2),y=g[0],_=g[1];return new Hr(y,_,Vr(e)?e.format:0,Vr(e)?e.style:"")}function li(){return bi()._selection}function ui(){return wi()._editorState._selection}function si(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=e.anchor,o=e.focus,a=i.getNode(),l=o.getNode();if(t.is(a)||t.is(l)){var u=t.__key;if(e.isCollapsed()){var s=i.offset;if(n<=s&&r>0||n<s&&r<0){var f=Math.max(0,s+r);i.set(u,f,"element"),o.set(u,f,"element"),fi(e)}}else{var c=e.isBackward(),d=c?o:i,v=d.getNode(),h=c?i:o,g=h.getNode();if(t.is(v)){var y=d.offset;(n<=y&&r>0||n<y&&r<0)&&d.set(u,Math.max(0,y+r),"element")}if(t.is(g)){var _=h.offset;(n<=_&&r>0||n<_&&r<0)&&h.set(u,Math.max(0,_+r),"element")}}fi(e)}}function fi(e){var t=e.anchor,n=t.offset,r=e.focus,i=r.offset,o=t.getNode(),a=r.getNode();if(e.isCollapsed()){if(!Bi(o))return;var l=o.getChildrenSize(),u=n>=l,s=u?o.getChildAtIndex(l-1):o.getChildAtIndex(n);if(Ar(s)){var f=0;u&&(f=s.getTextContentSize()),t.set(s.__key,f,"text"),r.set(s.__key,f,"text")}}else{if(Bi(o)){var c=o.getChildrenSize(),d=n>=c,v=d?o.getChildAtIndex(c-1):o.getChildAtIndex(n);if(Ar(v)){var h=0;d&&(h=v.getTextContentSize()),t.set(v.__key,h,"text")}}if(Bi(a)){var g=a.getChildrenSize(),y=i>=g,_=y?a.getChildAtIndex(g-1):a.getChildAtIndex(i);if(Ar(_)){var p=0;y&&(p=_.getTextContentSize()),r.set(_.__key,p,"text")}}}}function ci(e,t,n,r,i){var o=null,a=0,l=null;null!==r?(o=r.__key,Ar(r)?(a=r.getTextContentSize(),l="text"):Bi(r)&&(a=r.getChildrenSize(),l="element")):null!==i&&(o=i.__key,Ar(i)?l="text":Bi(i)&&(l="element")),null!==o&&null!==l?e.set(o,a,l):(-1===(a=t.getIndexWithinParent())&&(a=n.getChildrenSize()),e.set(n.__key,a,"element"))}function di(e,t,n,r,i){"text"===e.type?(e.key=n,t||(e.offset+=i)):e.offset>r.getIndexWithinParent()&&(e.offset-=1)}function vi(e){var t=li()||ui();null===t&&(t=_t().selectEnd()),t.insertNodes(e)}function hi(e){var t=e;e.isCollapsed()||t.removeText();var n=li();Vr(n)&&(t=n),Vr(t)||Ae(161);for(var r=t.anchor,i=r.getNode(),o=r.offset;!rn(i);){var a=gi(i,o),l=(0,d.Z)(a,2);i=l[0],o=l[1]}return o}function gi(e,t){var n=e.getParent();if(!n){var r=Gi();return _t().append(r),r.select(),[_t(),0]}if(Ar(e)){var i=e.splitText(t);if(0===i.length)return[n,e.getIndexWithinParent()];var o=0===t?0:1;return[n,i[0].getIndexWithinParent()+o]}if(!Bi(e)||0===t)return[n,e.getIndexWithinParent()];var a=e.getChildAtIndex(t);if(a){var l=new Hr(Rr(e.__key,t,"element"),Rr(e.__key,t,"element"),0,""),u=e.insertNewAfter(l);u&&u.append.apply(u,[a].concat((0,c.Z)(a.getNextSiblings())))}return[n,e.getIndexWithinParent()+1]}var yi=null,_i=null,pi=!1,mi=!1,ki=0,xi={characterData:!0,childList:!0,subtree:!0};function Si(){return pi||null!==yi&&yi._readOnly}function Ti(){pi&&Ae(13)}function Ci(){ki>99&&Ae(14)}function bi(){return null===yi&&Ae(189),yi}function wi(){return null===_i&&Ae(190),_i}function Ni(e,t,n){var r=t.__type,i=function(e,t){var n=e._nodes.get(t);return void 0===n&&Ae(30,t),n}(e,r),o=n.get(r);void 0===o&&(o=Array.from(i.transforms),n.set(r,o));for(var a=o.length,l=0;l<a&&(o[l](t),t.isAttached());l++);}function Ei(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function Pi(e){return Oi(e,wi()._nodes)}function Oi(e,t){var n=e.type,r=t.get(n);void 0===r&&Ae(17,n);var i=r.klass;e.type!==i.getType()&&Ae(18,i.name);var o=i.importJSON(e),a=e.children;if(Bi(o)&&Array.isArray(a))for(var l=0;l<a.length;l++){var u=Oi(a[l],t);o.append(u)}return o}function Di(e,t,n){var r=yi,i=pi,o=_i;yi=t,pi=!0,_i=e;try{return n()}finally{yi=r,pi=i,_i=o}}function Li(e,t){var n=e._pendingEditorState,r=e._rootElement,i=e._headless||null===r;if(null!==n){var o=e._editorState,a=o._selection,l=n._selection,u=0!==e._dirtyType,s=yi,f=pi,v=_i,h=e._updating,g=e._observer,y=null;if(e._pendingEditorState=null,e._editorState=n,!i&&u&&null!==g){_i=e,yi=n,pi=!1,e._updating=!0;try{var _=e._dirtyType,p=e._dirtyElements,m=e._dirtyLeaves;g.disconnect(),y=function(e,t,n,r,i,o){xn="",bn="",Sn="",wn=2===r,En=null,dn=n,cn=n._config,vn=n._nodes,hn=dn._listeners.mutation,gn=i,yn=o,_n=e._nodeMap,pn=t._nodeMap,Nn=t._readOnly,mn=new Map(n._keyToDOMMap);var a=new Map;return kn=a,Wn("root",null),dn=void 0,vn=void 0,gn=void 0,yn=void 0,_n=void 0,pn=void 0,cn=void 0,mn=void 0,kn=void 0,a}(o,n,e,_,p,m)}catch(k){if(k instanceof Error&&e._onError(k),mi)throw k;return ro(e,null,r,n),Ue(e),e._dirtyType=2,mi=!0,Li(e,o),void(mi=!1)}finally{g.observe(r,xi),e._updating=h,yi=s,pi=f,_i=v}}n._readOnly||(n._readOnly=!0);var x=e._dirtyLeaves,S=e._dirtyElements,T=e._normalizedNodes,C=e._updateTags,b=e._deferred;u&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){var n,r=e._decorators,i=e._pendingDecorators||r,o=t._nodeMap;for(n in i)o.has(n)||(i===r&&(i=gt(e)),delete i[n])}(e,n);var w=i?null:Qt(e._window);if(e._editable&&null!==w&&(u||null===l||l.dirty)){_i=e,yi=n;try{if(null!==g&&g.disconnect(),u||null===l||l.dirty){var N=e._blockCursorElement;null!==N&&Gt(N,e,r),function(e,t,n,r,i,o,a){var l=r.anchorNode,u=r.focusNode,s=r.anchorOffset,f=r.focusOffset,c=document.activeElement;if(!(i.has("collaboration")&&c!==o||null!==c&&Ye(c)))if(Vr(t)){var d,v,h,g,y,_=t.anchor,p=t.focus,m=_.key,k=p.key,x=jt(n,m),S=jt(n,k),T=_.offset,C=p.offset,b=t.format,w=t.style,N=t.isCollapsed(),E=x,P=S,O=!1;if("text"===_.type){E=it(x);var D=_.getNode();O=D.getFormat()!==b||D.getStyle()!==w}else Vr(e)&&"text"===e.anchor.type&&(O=!0);if("text"===p.type&&(P=it(S)),null!==E&&null!==P&&(N&&(null===e||O||Vr(e)&&(e.format!==b||e.style!==w))&&(d=b,v=w,h=T,g=m,y=performance.now(),tr=[d,v,h,g,y]),s!==T||f!==C||l!==E||u!==P||"Range"===r.type&&N||(null!==c&&o.contains(c)||o.focus({preventScroll:!0}),"element"===_.type))){try{r.setBaseAndExtent(E,T,P,C)}catch(e){}if(!i.has("skip-scroll-into-view")&&t.isCollapsed()&&null!==o&&o===document.activeElement){var L=t instanceof Hr&&"element"===t.anchor.type?E.childNodes[T]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==L){var F;if(L instanceof Text){var I=document.createRange();I.selectNode(L),F=I.getBoundingClientRect()}else F=L.getBoundingClientRect();!function(e,t,n){var r=n.ownerDocument,i=r.defaultView;if(null!==i)for(var o=t.top,a=t.bottom,l=0,u=0,s=n;null!==s;){var f=s===r.body;if(f)l=0,u=Vt(e).innerHeight;else{var c=s.getBoundingClientRect();l=c.top,u=c.bottom}var d=0;if(o<l?d=-(l-o):a>u&&(d=a-u),0!==d)if(f)i.scrollBy(0,d);else{var v=s.scrollTop;s.scrollTop+=d;var h=s.scrollTop-v;o-=h,a-=h}if(f)break;s=Jt(s)}}(n,F,o)}}Gn=!0}}else null!==e&&et(n,l,u)&&r.removeAllRanges()}(a,l,e,w,C,r)}(function(e,t,n){var r=e._blockCursorElement;if(Vr(n)&&n.isCollapsed()&&"element"===n.anchor.type&&t.contains(document.activeElement)){var i=n.anchor,o=i.getNode(),a=i.offset,l=!1,u=null;if(a===o.getChildrenSize())Xt(o.getChildAtIndex(a-1))&&(l=!0);else{var s=o.getChildAtIndex(a);if(Xt(s)){var f=s.getPreviousSibling();(null===f||Xt(f))&&(l=!0,u=e.getElementByKey(s.__key))}}if(l){var d=e.getElementByKey(o.__key);return null===r&&(e._blockCursorElement=r=function(e){var t=e.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");var r=t.blockCursor;if(void 0!==r){var i;if("string"==typeof r){var o=Me(r);r=t.blockCursor=o}void 0!==r&&(i=n.classList).add.apply(i,(0,c.Z)(r))}return n}(e._config)),t.style.caretColor="transparent",void(null===u?d.appendChild(r):d.insertBefore(r,u))}}null!==r&&Gt(r,e,t)})(e,r,l),null!==g&&g.observe(r,xi)}finally{_i=v,yi=s}}null!==y&&function(e,t,n,r,i){for(var o=Array.from(e._listeners.mutation),a=o.length,l=0;l<a;l++){var u=(0,d.Z)(o[l],2),s=u[0],f=u[1],c=t.get(f);void 0!==c&&s(c,{dirtyLeaves:r,prevEditorState:i,updateTags:n})}}(e,y,C,x,o),Vr(l)||null===l||null!==a&&a.is(l)||e.dispatchCommand(k,void 0);var E=e._pendingDecorators;null!==E&&(e._decorators=E,e._pendingDecorators=null,Fi("decorator",e,!0,E)),function(e,t,n){var r=yt(t),i=yt(n);r!==i&&Fi("textcontent",e,!0,i)}(e,t||o,n),Fi("update",e,!0,{dirtyElements:S,dirtyLeaves:x,editorState:n,normalizedNodes:T,prevEditorState:t||o,tags:C}),function(e,t){if(e._deferred=[],0!==t.length){var n=e._updating;e._updating=!0;try{for(var r=0;r<t.length;r++)t[r]()}finally{e._updating=n}}}(e,b),function(e){var t=e._updates;if(0!==t.length){var n=t.shift();if(n){var r=(0,d.Z)(n,2);Mi(e,r[0],r[1])}}}(e)}}function Fi(e,t,n){var r=t._updating;t._updating=n;try{for(var i=Array.from(t._listeners[e]),o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];for(var u=0;u<i.length;u++)i[u].apply(null,a)}finally{t._updating=r}}function Ii(e,t,n){if(!1===e._updating||_i!==e){var r=!1;return e.update((function(){r=Ii(e,t,n)})),r}for(var i=Tt(e),o=4;o>=0;o--)for(var a=0;a<i.length;a++){var l=i[a]._commands.get(t);if(void 0!==l){var u=l[o];if(void 0!==u)for(var s=Array.from(u),f=s.length,c=0;c<f;c++)if(!0===s[c](n,e))return!0}}return!1}function Ai(e,t){for(var n=e._updates,r=t||!1;0!==n.length;){var i=n.shift();if(i){var o=(0,d.Z)(i,2),a=o[0],l=o[1],u=void 0,s=void 0;if(void 0!==l){if(u=l.onUpdate,s=l.tag,l.skipTransforms&&(r=!0),l.discrete){var f=e._pendingEditorState;null===f&&Ae(191),f._flushSync=!0}u&&e._deferred.push(u),s&&e._updateTags.add(s)}a()}}return r}function Mi(e,t,n){var r,i,o=e._updateTags,a=!1,l=!1;void 0!==n&&(r=n.onUpdate,null!=(i=n.tag)&&o.add(i),a=n.skipTransforms||!1,l=n.discrete||!1),r&&e._deferred.push(r);var u=e._editorState,s=e._pendingEditorState,f=!1;(null===s||s._readOnly)&&(s=e._pendingEditorState=new Hi(new Map((s||u)._nodeMap)),f=!0),s._flushSync=l;var c=yi,v=pi,h=_i,g=e._updating;yi=s,pi=!1,e._updating=!0,_i=e;try{f&&(e._headless?null!==u._selection&&(s._selection=u._selection.clone()):s._selection=function(e){var t=e.getEditorState()._selection,n=Qt(e._window);return Vr(t)||null==t?ai(t,n,e,null):t.clone()}(e));var y=e._compositionKey;t(),a=Ai(e,a),function(e,t){var n=t.getEditorState()._selection,r=e._selection;if(Vr(r)){var i,o=r.anchor,a=r.focus;if("text"===o.type&&(i=o.getNode()).selectionTransform(n,r),"text"===a.type){var l=a.getNode();i!==l&&l.selectionTransform(n,r)}}}(s,e),0!==e._dirtyType&&(a?function(e,t){var n,r=t._dirtyLeaves,i=e._nodeMap,o=_(r);try{for(o.s();!(n=o.n()).done;){var a=n.value,l=i.get(a);Ar(l)&&l.isAttached()&&l.isSimpleText()&&!l.isUnmergeable()&&qe(l)}}catch(u){o.e(u)}finally{o.f()}}(s,e):function(e,t){for(var n=t._dirtyLeaves,r=t._dirtyElements,i=e._nodeMap,o=ct(),a=new Map,l=n,u=l.size,s=r,f=s.size;u>0||f>0;){if(u>0){t._dirtyLeaves=new Set;var c,d=_(l);try{for(d.s();!(c=d.n()).done;){var v=c.value,h=i.get(v);Ar(h)&&h.isAttached()&&h.isSimpleText()&&!h.isUnmergeable()&&qe(h),void 0!==h&&Ei(h,o)&&Ni(t,h,a),n.add(v)}}catch(S){d.e(S)}finally{d.f()}if((u=(l=t._dirtyLeaves).size)>0){ki++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map;var g,y=_(s);try{for(y.s();!(g=y.n()).done;){var p=g.value,m=p[0],k=p[1];if("root"===m||k){var x=i.get(m);void 0!==x&&Ei(x,o)&&Ni(t,x,a),r.set(m,k)}}}catch(S){y.e(S)}finally{y.f()}u=(l=t._dirtyLeaves).size,f=(s=t._dirtyElements).size,ki++}t._dirtyLeaves=n,t._dirtyElements=r}(s,e),Ai(e),function(e,t,n,r){var i,o=e._nodeMap,a=t._nodeMap,l=[],u=_(r);try{for(u.s();!(i=u.n()).done;){var s=(0,d.Z)(i.value,1)[0],f=a.get(s);void 0!==f&&(f.isAttached()||(Bi(f)&&fn(f,s,o,a,l,r),o.has(s)||r.delete(s),l.push(s)))}}catch(k){u.e(k)}finally{u.f()}for(var c=0,v=l;c<v.length;c++){var h=v[c];a.delete(h)}var g,y=_(n);try{for(y.s();!(g=y.n()).done;){var p=g.value,m=a.get(p);void 0===m||m.isAttached()||(o.has(p)||n.delete(p),a.delete(p))}}catch(k){y.e(k)}finally{y.f()}}(u,s,e._dirtyLeaves,e._dirtyElements)),y!==e._compositionKey&&(s._flushSync=!0);var p=s._selection;if(Vr(p)){var m=s._nodeMap,k=p.anchor.key,x=p.focus.key;void 0!==m.get(k)&&void 0!==m.get(x)||Ae(19)}else qr(p)&&0===p._nodes.size&&(s._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=u,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Li(e)}finally{yi=c,pi=v,_i=h,e._updating=g,ki=0}var S=0!==e._dirtyType||function(e,t){var n=t.getEditorState()._selection,r=e._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(s,e);S?s._flushSync?(s._flushSync=!1,Li(e)):f&&Qe((function(){Li(e)})):(s._flushSync=!1,f&&(o.clear(),e._deferred=[],e._pendingEditorState=null))}function Zi(e,t,n){e._updating?e._updates.push([t,n]):Mi(e,t,n)}var zi=function(e){(0,a.Z)(n,e);var t=y(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).__first=null,r.__last=null,r.__size=0,r.__format=0,r.__style="",r.__indent=0,r.__dir=null,r}return(0,f.Z)(n,[{key:"getFormat",value:function(){return this.getLatest().__format}},{key:"getFormatType",value:function(){var e=this.getFormat();return Le[e]||""}},{key:"getStyle",value:function(){return this.getLatest().__style}},{key:"getIndent",value:function(){return this.getLatest().__indent}},{key:"getChildren",value:function(){for(var e=[],t=this.getFirstChild();null!==t;)e.push(t),t=t.getNextSibling();return e}},{key:"getChildrenKeys",value:function(){for(var e=[],t=this.getFirstChild();null!==t;)e.push(t.__key),t=t.getNextSibling();return e}},{key:"getChildrenSize",value:function(){return this.getLatest().__size}},{key:"isEmpty",value:function(){return 0===this.getChildrenSize()}},{key:"isDirty",value:function(){var e=wi()._dirtyElements;return null!==e&&e.has(this.__key)}},{key:"isLastChild",value:function(){var e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}},{key:"getAllTextNodes",value:function(){for(var e=[],t=this.getFirstChild();null!==t;){if(Ar(t)&&e.push(t),Bi(t)){var n=t.getAllTextNodes();e.push.apply(e,(0,c.Z)(n))}t=t.getNextSibling()}return e}},{key:"getFirstDescendant",value:function(){for(var e=this.getFirstChild();Bi(e);){var t=e.getFirstChild();if(null===t)break;e=t}return e}},{key:"getLastDescendant",value:function(){for(var e=this.getLastChild();Bi(e);){var t=e.getLastChild();if(null===t)break;e=t}return e}},{key:"getDescendantByIndex",value:function(e){var t=this.getChildren(),n=t.length;if(e>=n){var r=t[n-1];return Bi(r)&&r.getLastDescendant()||r||null}var i=t[e];return Bi(i)&&i.getFirstDescendant()||i||null}},{key:"getFirstChild",value:function(){var e=this.getLatest().__first;return null===e?null:dt(e)}},{key:"getFirstChildOrThrow",value:function(){var e=this.getFirstChild();return null===e&&Ae(45,this.__key),e}},{key:"getLastChild",value:function(){var e=this.getLatest().__last;return null===e?null:dt(e)}},{key:"getLastChildOrThrow",value:function(){var e=this.getLastChild();return null===e&&Ae(96,this.__key),e}},{key:"getChildAtIndex",value:function(e){var t,n,r=this.getChildrenSize();if(e<r/2){for(t=this.getFirstChild(),n=0;null!==t&&n<=e;){if(n===e)return t;t=t.getNextSibling(),n++}return null}for(t=this.getLastChild(),n=r-1;null!==t&&n>=e;){if(n===e)return t;t=t.getPreviousSibling(),n--}return null}},{key:"getTextContent",value:function(){for(var e="",t=this.getChildren(),n=t.length,r=0;r<n;r++){var i=t[r];e+=i.getTextContent(),Bi(i)&&r!==n-1&&!i.isInline()&&(e+=Te)}return e}},{key:"getTextContentSize",value:function(){for(var e=0,t=this.getChildren(),n=t.length,r=0;r<n;r++){var i=t[r];e+=i.getTextContentSize(),Bi(i)&&r!==n-1&&!i.isInline()&&(e+=Te.length)}return e}},{key:"getDirection",value:function(){return this.getLatest().__dir}},{key:"hasFormat",value:function(e){if(""!==e){var t=De[e];return!!(this.getFormat()&t)}return!1}},{key:"select",value:function(e,t){Ti();var n=li(),r=e,i=t,o=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){var a=this.getFirstChild();if(Ar(a)||Bi(a))return a.select(0,0)}else if(!(void 0!==e&&e!==o||void 0!==t&&t!==o)){var l=this.getLastChild();if(Ar(l)||Bi(l))return l.select()}void 0===r&&(r=o),void 0===i&&(i=o);var u=this.__key;return Vr(n)?(n.anchor.set(u,r,"element"),n.focus.set(u,i,"element"),n.dirty=!0,n):ri(u,r,u,i,"element","element")}},{key:"selectStart",value:function(){var e=this.getFirstDescendant();return e?e.selectStart():this.select()}},{key:"selectEnd",value:function(){var e=this.getLastDescendant();return e?e.selectEnd():this.select()}},{key:"clear",value:function(){var e=this.getWritable();return this.getChildren().forEach((function(e){return e.remove()})),e}},{key:"append",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.splice(this.getChildrenSize(),0,t)}},{key:"setDirection",value:function(e){var t=this.getWritable();return t.__dir=e,t}},{key:"setFormat",value:function(e){return this.getWritable().__format=""!==e?De[e]:0,this}},{key:"setStyle",value:function(e){return this.getWritable().__style=e||"",this}},{key:"setIndent",value:function(e){return this.getWritable().__indent=e,this}},{key:"splice",value:function(e,t,n){var r=n.length,i=this.getChildrenSize(),o=this.getWritable(),a=o.__key,l=[],u=[],s=this.getChildAtIndex(e+t),f=null,c=i-t+r;if(0!==e)if(e===i)f=this.getLastChild();else{var d=this.getChildAtIndex(e);null!==d&&(f=d.getPreviousSibling())}if(t>0)for(var v=null===f?this.getFirstChild():f.getNextSibling(),h=0;h<t;h++){null===v&&Ae(100);var g=v.getNextSibling(),y=v.__key;ut(v.getWritable()),u.push(y),v=g}for(var _=f,p=0;p<r;p++){var m=n[p];null!==_&&m.is(_)&&(f=_=_.getPreviousSibling());var k=m.getWritable();k.__parent===a&&c--,ut(k);var x=m.__key;if(null===_)o.__first=x,k.__prev=null;else{var S=_.getWritable();S.__next=x,k.__prev=S.__key}m.__key===a&&Ae(76),k.__parent=a,l.push(x),_=m}if(e+t===i)null!==_&&(_.getWritable().__next=null,o.__last=_.__key);else if(null!==s){var T=s.getWritable();if(null!==_){var C=_.getWritable();T.__prev=_.__key,C.__next=s.__key}else T.__prev=null}if(o.__size=c,u.length){var b=li();if(Vr(b)){var w=new Set(u),N=new Set(l),E=b.anchor,P=b.focus;Wi(E,w,N)&&ci(E,E.getNode(),this,f,s),Wi(P,w,N)&&ci(P,P.getNode(),this,f,s),0!==c||this.canBeEmpty()||Ht(this)||this.remove()}}return o}},{key:"exportJSON",value:function(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}},{key:"insertNewAfter",value:function(e,t){return null}},{key:"canIndent",value:function(){return!0}},{key:"collapseAtStart",value:function(e){return!1}},{key:"excludeFromCopy",value:function(e){return!1}},{key:"canReplaceWith",value:function(e){return!0}},{key:"canInsertAfter",value:function(e){return!0}},{key:"canBeEmpty",value:function(){return!0}},{key:"canInsertTextBefore",value:function(){return!0}},{key:"canInsertTextAfter",value:function(){return!0}},{key:"isInline",value:function(){return!1}},{key:"isShadowRoot",value:function(){return!1}},{key:"canMergeWith",value:function(e){return!1}},{key:"extractWithChild",value:function(e,t,n){return!1}}]),n}(vr);function Bi(e){return e instanceof zi}function Wi(e,t,n){for(var r=e.getNode();r;){var i=r.__key;if(t.has(i)&&!n.has(i))return!0;r=r.getParent()}return!1}var Ri=function(e){(0,a.Z)(n,e);var t=y(n);function n(e){return(0,s.Z)(this,n),t.call(this,e)}return(0,f.Z)(n,[{key:"decorate",value:function(e,t){Ae(47)}},{key:"isIsolated",value:function(){return!1}},{key:"isInline",value:function(){return!0}},{key:"isKeyboardSelectable",value:function(){return!0}}]),n}(vr);function Ki(e){return e instanceof Ri}var ji=function(e){(0,a.Z)(n,e);var t=y(n);function n(){var e;return(0,s.Z)(this,n),(e=t.call(this,"root")).__cachedText=null,e}return(0,f.Z)(n,[{key:"getTopLevelElementOrThrow",value:function(){Ae(51)}},{key:"getTextContent",value:function(){var e=this.__cachedText;return!Si()&&0!==wi()._dirtyType||null===e?(0,o.Z)((0,u.Z)(n.prototype),"getTextContent",this).call(this):e}},{key:"remove",value:function(){Ae(52)}},{key:"replace",value:function(e){Ae(53)}},{key:"insertBefore",value:function(e){Ae(54)}},{key:"insertAfter",value:function(e){Ae(55)}},{key:"updateDOM",value:function(e,t){return!1}},{key:"append",value:function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0;a<r.length;a++){var l=r[a];Bi(l)||Ki(l)||Ae(56)}return(e=(0,o.Z)((0,u.Z)(n.prototype),"append",this)).call.apply(e,[this].concat(r))}},{key:"exportJSON",value:function(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}},{key:"collapseAtStart",value:function(){return!0}}],[{key:"getType",value:function(){return"root"}},{key:"clone",value:function(){return new n}},{key:"importJSON",value:function(e){var t=_t();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}}]),n}(zi);function Ji(e){return e instanceof ji}function Ui(){return new Hi(new Map([["root",new ji]]))}function Vi(e){var t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&Ae(130,n.name),Bi(e)){var r=t.children;Array.isArray(r)||Ae(59,n.name);for(var i=e.getChildren(),o=0;o<i.length;o++){var a=Vi(i[o]);r.push(a)}}return t}var Hi=function(){function e(t,n){(0,s.Z)(this,e),this._nodeMap=t,this._selection=n||null,this._flushSync=!1,this._readOnly=!1}return(0,f.Z)(e,[{key:"isEmpty",value:function(){return 1===this._nodeMap.size&&null===this._selection}},{key:"read",value:function(e,t){return Di(t&&t.editor||null,this,e)}},{key:"clone",value:function(t){var n=new e(this._nodeMap,void 0===t?this._selection:t);return n._readOnly=!0,n}},{key:"toJSON",value:function(){return Di(null,this,(function(){return{root:Vi(_t())}}))}}]),e}(),qi=function(e){(0,a.Z)(n,e);var t=y(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,f.Z)(n,[{key:"createDOM",value:function(e){return document.createElement("div")}}],[{key:"getType",value:function(){return"artificial"}}]),n}(zi),$i=function(e){(0,a.Z)(n,e);var t=y(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).__textFormat=0,r.__textStyle="",r}return(0,f.Z)(n,[{key:"getTextFormat",value:function(){return this.getLatest().__textFormat}},{key:"setTextFormat",value:function(e){var t=this.getWritable();return t.__textFormat=e,t}},{key:"hasTextFormat",value:function(e){var t=Pe[e];return!!(this.getTextFormat()&t)}},{key:"getTextStyle",value:function(){return this.getLatest().__textStyle}},{key:"setTextStyle",value:function(e){var t=this.getWritable();return t.__textStyle=e,t}},{key:"createDOM",value:function(e){var t,n=document.createElement("p"),r=Mt(e.theme,"paragraph");void 0!==r&&(t=n.classList).add.apply(t,(0,c.Z)(r));return n}},{key:"updateDOM",value:function(e,t,n){return!1}},{key:"exportDOM",value:function(e){var t=(0,o.Z)((0,u.Z)(n.prototype),"exportDOM",this).call(this,e).element;if(t&&en(t)){this.isEmpty()&&t.append(document.createElement("br"));var r=this.getFormatType();t.style.textAlign=r;var i=this.getDirection();i&&(t.dir=i);var a=this.getIndent();a>0&&(t.style.textIndent=20*a+"px")}return{element:t}}},{key:"exportJSON",value:function(){return g(g({},(0,o.Z)((0,u.Z)(n.prototype),"exportJSON",this).call(this)),{},{textFormat:this.getTextFormat(),textStyle:this.getTextStyle(),type:"paragraph",version:1})}},{key:"insertNewAfter",value:function(e,t){var n=Gi();n.setTextFormat(e.format),n.setTextStyle(e.style);var r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getTextStyle()),this.insertAfter(n,t),n}},{key:"collapseAtStart",value:function(){var e=this.getChildren();if(0===e.length||Ar(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}],[{key:"getType",value:function(){return"paragraph"}},{key:"clone",value:function(e){return new n(e.__key)}},{key:"importDOM",value:function(){return{p:function(e){return{conversion:Xi,priority:0}}}}},{key:"importJSON",value:function(e){var t=Gi();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t.setTextFormat(e.textFormat),t}}]),n}(zi);function Xi(e){var t=Gi();if(e.style){t.setFormat(e.style.textAlign);var n=parseInt(e.style.textIndent,10)/20;n>0&&t.setIndent(n)}return{node:t}}function Gi(){return qt(new $i)}function Qi(e){return e instanceof $i}var Yi=0,eo=1,to=3,no=4;function ro(e,t,n,r){var i=e._keyToDOMMap;i.clear(),e._editorState=Ui(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;var o=e._observer;null!==o&&(o.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}function io(e){var t,n=e||{},r=_i,i=n.theme||{},o=void 0===e?r:n.parentEditor||null,a=n.disableEvents||!1,l=Ui(),u=n.namespace||(null!==o?o._config.namespace:Ct()),s=n.editorState,f=[ji,br,hr,Zr,$i,qi].concat((0,c.Z)(n.nodes||[])),d=n.onError,v=n.html,h=void 0===n.editable||n.editable;if(void 0===e&&null!==r)t=r._nodes;else{t=new Map;for(var g=0;g<f.length;g++){var y=f[g],_=null,p=null;if("function"!=typeof y){var m=y;y=m.replace,_=m.with,p=m.withKlass||null}var k=y.getType(),x=y.transform(),S=new Set;null!==x&&S.add(x),t.set(k,{exportDOM:v&&v.export?v.export.get(y):void 0,klass:y,replace:_,replaceWithKlass:p,transforms:S})}}var T=new oo(l,o,t,{disableEvents:a,namespace:u,theme:i},d||console.error,function(e,t){var n=new Map,r=new Set,i=function(e){Object.keys(e).forEach((function(t){var r=n.get(t);void 0===r&&(r=[],n.set(t,r)),r.push(e[t])}))};return e.forEach((function(e){var t=e.klass.importDOM;if(null!=t&&!r.has(t)){r.add(t);var n=t.call(e.klass);null!==n&&i(n)}})),t&&i(t),n}(t,v?v.import:void 0),h);return void 0!==s&&(T._pendingEditorState=s,T._dirtyType=2),T}var oo=function(){function e(t,n,r,i,o,a,l){(0,s.Z)(this,e),this._parentEditor=n,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Ct(),this._onError=o,this._htmlConversions=a,this._editable=l,this._headless=null!==n&&n._headless,this._window=null,this._blockCursorElement=null}return(0,f.Z)(e,[{key:"isComposing",value:function(){return null!=this._compositionKey}},{key:"registerUpdateListener",value:function(e){var t=this._listeners.update;return t.add(e),function(){t.delete(e)}}},{key:"registerEditableListener",value:function(e){var t=this._listeners.editable;return t.add(e),function(){t.delete(e)}}},{key:"registerDecoratorListener",value:function(e){var t=this._listeners.decorator;return t.add(e),function(){t.delete(e)}}},{key:"registerTextContentListener",value:function(e){var t=this._listeners.textcontent;return t.add(e),function(){t.delete(e)}}},{key:"registerRootListener",value:function(e){var t=this,n=this._listeners.root;return e(this._rootElement,null),n.add(e),function(){e(null,t._rootElement),n.delete(e)}}},{key:"registerCommand",value:function(e,t,n){void 0===n&&Ae(35);var r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);var i=r.get(e);void 0===i&&Ae(36,String(e));var o=i[n];return o.add(t),function(){o.delete(t),i.every((function(e){return 0===e.size}))&&r.delete(e)}}},{key:"registerMutationListener",value:function(e,t,n){var r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,i=this._listeners.mutation;i.set(t,r);var o=n&&n.skipInitialization;return void 0===o||o||this.initializeMutationListener(t,r),function(){i.delete(t)}}},{key:"getRegisteredNode",value:function(e){var t=this._nodes.get(e.getType());return void 0===t&&Ae(37,e.name),t}},{key:"resolveRegisteredNodeAfterReplacements",value:function(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}},{key:"initializeMutationListener",value:function(e,t){var n=this._editorState,r=un(n).get(t.getType());if(r){var i,o=new Map,a=_(r.keys());try{for(a.s();!(i=a.n()).done;){var l=i.value;o.set(l,"created")}}catch(u){a.e(u)}finally{a.f()}o.size>0&&e(o,{dirtyLeaves:new Set,prevEditorState:n,updateTags:new Set(["registerMutationListener"])})}}},{key:"registerNodeTransformToKlass",value:function(e,t){var n=this.getRegisteredNode(e);return n.transforms.add(t),n}},{key:"registerNodeTransform",value:function(e,t){var n,r=this.registerNodeTransformToKlass(e,t),i=[r],o=r.replaceWithKlass;if(null!=o){var a=this.registerNodeTransformToKlass(o,t);i.push(a)}return this,n=e.getType(),Zi(this,(function(){var e=bi();if(!e.isEmpty())if("root"!==n){var t,r=_(e._nodeMap);try{for(r.s();!(t=r.n()).done;){(0,d.Z)(t.value,2)[1].markDirty()}}catch(i){r.e(i)}finally{r.f()}}else _t().markDirty()}),null===this._pendingEditorState?{tag:"history-merge"}:void 0),function(){i.forEach((function(e){return e.transforms.delete(t)}))}}},{key:"hasNode",value:function(e){return this._nodes.has(e.getType())}},{key:"hasNodes",value:function(e){return e.every(this.hasNode.bind(this))}},{key:"dispatchCommand",value:function(e,t){return Rt(this,e,t)}},{key:"getDecorators",value:function(){return this._decorators}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getKey",value:function(){return this._key}},{key:"setRootElement",value:function(e){var t=this._rootElement;if(e!==t){var n,r=Mt(this._config.theme,"root"),i=this._pendingEditorState||this._editorState;if(this._rootElement=e,ro(this,t,e,i),null!==t&&(this._config.disableEvents||function(e){var t=e.ownerDocument,n=Xn.get(t);void 0===n&&Ae(162);var r=n-1;r>=0||Ae(164),Xn.set(t,r),0===r&&t.removeEventListener("selectionchange",sr);var i=e.__lexicalEditor;null!=i&&(function(e){if(null!==e._parentEditor){var t=Tt(e),n=t[t.length-1]._key;ur.get(n)===e&&ur.delete(n)}else ur.delete(e._key)}(i),e.__lexicalEditor=null);for(var o=lr(e),a=0;a<o.length;a++)o[a]();e.__lexicalEventHandles=[]}(t),null!=r&&(n=t.classList).remove.apply(n,(0,c.Z)(r))),null!==e){var o,a=function(e){var t=e.ownerDocument;return t&&t.defaultView||null}(e),l=e.style;l.userSelect="text",l.whiteSpace="pre-wrap",l.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=a,this._dirtyType=2,Ue(this),this._updateTags.add("history-merge"),Li(this),this._config.disableEvents||function(e,t){var n=e.ownerDocument,r=Xn.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",sr),Xn.set(n,(r||0)+1),e.__lexicalEditor=t;for(var i=lr(e),o=function(n){var r=(0,d.Z)(Un[n],2),o=r[0],a=r[1],l="function"==typeof a?function(e){cr(e)||(fr(e),(t.isEditable()||"click"===o)&&a(e,t))}:function(e){if(!cr(e)){fr(e);var n=t.isEditable();switch(o){case"cut":return n&&Rt(t,ne,e);case"copy":return Rt(t,te,e);case"paste":return n&&Rt(t,N,e);case"dragstart":return n&&Rt(t,Q,e);case"dragover":return n&&Rt(t,Y,e);case"dragend":return n&&Rt(t,ee,e);case"focus":return n&&Rt(t,ue,e);case"blur":return n&&Rt(t,se,e);case"drop":return n&&Rt(t,X,e)}}};e.addEventListener(o,l),i.push((function(){e.removeEventListener(o,l)}))},a=0;a<Un.length;a++)o(a)}(e,this),null!=r&&(o=e.classList).add.apply(o,(0,c.Z)(r))}else this._editorState=i,this._pendingEditorState=null,this._window=null;Fi("root",this,!1,e,t)}}},{key:"getElementByKey",value:function(e){return this._keyToDOMMap.get(e)||null}},{key:"getEditorState",value:function(){return this._editorState}},{key:"setEditorState",value:function(e,t){e.isEmpty()&&Ae(38),Je(this);var n=this._pendingEditorState,r=this._updateTags,i=void 0!==t?t.tag:null;null===n||n.isEmpty()||(null!=i&&r.add(i),Li(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=i&&r.add(i),Li(this)}},{key:"parseEditorState",value:function(e,t){return function(e,t,n){var r=Ui(),i=yi,o=pi,a=_i,l=t._dirtyElements,u=t._dirtyLeaves,s=t._cloneNotNeeded,f=t._dirtyType;t._dirtyElements=new Map,t._dirtyLeaves=new Set,t._cloneNotNeeded=new Set,t._dirtyType=0,yi=r,pi=!1,_i=t;try{var c=t._nodes;Oi(e.root,c),n&&n(),r._readOnly=!0}catch(e){e instanceof Error&&t._onError(e)}finally{t._dirtyElements=l,t._dirtyLeaves=u,t._cloneNotNeeded=s,t._dirtyType=f,yi=i,pi=o,_i=a}return r}("string"==typeof e?JSON.parse(e):e,this,t)}},{key:"read",value:function(e){return Li(this),this.getEditorState().read(e,{editor:this})}},{key:"update",value:function(e,t){Zi(this,e,t)}},{key:"focus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Zi(this,(function(){var e=li(),n=_t();null!==e?e.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===t.defaultSelection?n.selectStart():n.selectEnd())}),{onUpdate:function(){n.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}},{key:"blur",value:function(){var e=this._rootElement;null!==e&&e.blur();var t=Qt(this._window);null!==t&&t.removeAllRanges()}},{key:"isEditable",value:function(){return this._editable}},{key:"setEditable",value:function(e){this._editable!==e&&(this._editable=e,Fi("editable",this,!0,e))}},{key:"toJSON",value:function(){return{editorState:this._editorState.toJSON()}}}]),e}()}}]);